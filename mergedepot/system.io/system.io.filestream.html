<!DOCTYPE html>



  


  


  

<html class="no-js reference" lang="en-us" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="FileStream class">
    <meta name="breadcrumb_path" content="/halfdotnet/toc.json">
<meta name="search.ms_sitename" content="Docs">
<meta name="search.ms_docsetname" content="halfdotnet">
<meta name="version" content="0">
<meta name="locale" content="en-us">
<meta name="site_name" content="Docs">
<meta name="search.ms_product" content="MSDN">
<meta name="depot_name" content="MSDN.halfdotnet">
<meta name="ref_skeleton_gitcommit" content="https://github.com/TianqiZhang/ECMA2YamlTestRepo/blob/c463338a38ee0cf171b48332bb4325e618b23055/halfdotnet/System.IO/System.IO.FileStream.yml">
<meta name="original_ref_skeleton_git_url" content="https://github.com/TianqiZhang/ECMA2YamlTestRepo/blob/migration/halfdotnet/System.IO/System.IO.FileStream.yml">
<meta name="APIName" content="System.IO.FileStream">
<meta name="APIName" content="System.IO.FileStream..ctor">
<meta name="APIName" content="System.IO.FileStream.BeginRead">
<meta name="APIName" content="System.IO.FileStream.BeginWrite">
<meta name="APIName" content="System.IO.FileStream.CanRead">
<meta name="APIName" content="System.IO.FileStream.CanSeek">
<meta name="APIName" content="System.IO.FileStream.CanWrite">
<meta name="APIName" content="System.IO.FileStream.Dispose">
<meta name="APIName" content="System.IO.FileStream.EndRead">
<meta name="APIName" content="System.IO.FileStream.EndWrite">
<meta name="APIName" content="System.IO.FileStream.Finalize">
<meta name="APIName" content="System.IO.FileStream.Flush">
<meta name="APIName" content="System.IO.FileStream.FlushAsync">
<meta name="APIName" content="System.IO.FileStream.GetAccessControl">
<meta name="APIName" content="System.IO.FileStream.Handle">
<meta name="APIName" content="System.IO.FileStream.IsAsync">
<meta name="APIName" content="System.IO.FileStream.Length">
<meta name="APIName" content="System.IO.FileStream.Lock">
<meta name="APIName" content="System.IO.FileStream.Name">
<meta name="APIName" content="System.IO.FileStream.Position">
<meta name="APIName" content="System.IO.FileStream.Read">
<meta name="APIName" content="System.IO.FileStream.ReadAsync">
<meta name="APIName" content="System.IO.FileStream.ReadByte">
<meta name="APIName" content="System.IO.FileStream.SafeFileHandle">
<meta name="APIName" content="System.IO.FileStream.Seek">
<meta name="APIName" content="System.IO.FileStream.SetAccessControl">
<meta name="APIName" content="System.IO.FileStream.SetLength">
<meta name="APIName" content="System.IO.FileStream.Unlock">
<meta name="APIName" content="System.IO.FileStream.Write">
<meta name="APIName" content="System.IO.FileStream.WriteAsync">
<meta name="APIName" content="System.IO.FileStream.WriteByte">
<meta name="APILocation" content="mscorlib.dll">
<meta name="TopicType" content="apiref">
<meta name="APIType" content="Assembly">
<meta name="updated_at" content="2017-02-16 06:36 AM">
<meta name="document_id" content="54b7934a-3128-994b-8972-6f235419095d">
<meta name="pagetype" content="Reference">
<meta name="description" content="Provides a  for a file, supporting both synchronous and asynchronous read and write operations.  
 To browse the .NET Framework source code for this type, see the Reference Source.
">
<meta name="toc_rel" content="../toc1.json">
<meta name="platforms" content="net-11">
<meta name="platforms" content="net-20">
<meta name="platforms" content="netcore-10">
<meta name="source_url" content="">
<meta name="ms.assetid" content="System.IO.FileStream">

    
    
      
    
    <link href="https://ppe.docs.microsoft.com/en-us/newBase/system.io/system.io.filestream" rel="canonical">
    <title>FileStream class | Microsoft Docs</title>
    <link rel="stylesheet" href="../_themes/css/1799cb50375cce4bc4c6.reference.css ">
    <script>
	var msDocs = {
		data:{
			contentLocale: 'en-us'
		},
		functions:{},
		settings:{
			extendBreadcrumb: true
		}
	};
	</script>

<script>
	msDocs.data.pathToTheme = '../_themes/';
	msDocs.data.brand = '';
</script>


<!--[if lt IE 9]>
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.4.min.js"></script>
	<script src="../_themes/global/js/polyfills/all.js"></script>
<![endif]-->
<!--[if gte IE 9]><!-->
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.min.js"></script>
<!--<![endif]-->
<script>window.jQuery || document.write('<script src="../_themes/global/js/jquery/jquery-1.12.4.min.js"><\/script>')</script>

<script src="https://assets.onestore.ms/cdnfiles/external/uhf/long/6cd17f63f634a900b40eb670c61866e8e1385b9f/js/uhf-main.var.min.js" async="" defer=""></script>
<script src="https://mem.gfx.ms/meversion?partner=msdocs&market=en-us" async="" defer=""></script>

  <script src="../_themes/global/js/global.min.js?v=31"></script>

  </head>
  <body>



<header id="header" ms.pgarea="header">
    <div id="uhfPlaceHolder" class="c-me"></div>

    
    <div id="msdn-redirection-notification" class="shell-notification" style="display:none;" ms.cmpgrp="notifications">
        <div class="shell-notification-grid-row shell-notification-clearfix">
            <span id="msdn.redirection.text" class="notification-txt">You were redirected to this page from MSDN.  We are in the process of migrating all technical content to docs.microsoft.com.</span>
            <span class="notification-action">
            <a id="redirect-notification-close" tabindex="1">
                <i class="shell-icon-close"></i>
            </a>
            </span>
        </div>        
    </div>

    <div id="sub-header" class="container" ms.cmpgrp="breadcrumb" role="navigation" aria-label="breadcrumb">    
        <div id="sub-header-content">
            <div class="content">
                <ul class="breadcrumbs"></ul>
            </div>
        </div>
    </div>


    <div class="pageActionsHolder">
        <div id="page-actions" role="complementary">
            <div id="page-actions-content">
                <ul class="action-list" ms.cmpgrp="pageactions">
                    
                    
                                                
                            <li id="contenteditbtn">
                                <a href="" title="Edit This Document" ms.cmpnm="edit">
                                    <i class="icon icon-editor"></i>Edit
                                </a>
                            </li>
                        
                    
					
						
					
                    <li>
                        <a href="#" class="sharebutton" title="Share This Document" ms.cmpnm="share"><i class="icon icon-share"></i>Share</a>
                        <div class="share-container">
                            
                                <div><a href="" class="share-twitter" ms.cmpnm="twitter"><i class="icon icon-twitter"></i>Twitter</a></div>
                                <div><a href="" class="share-facebook" ms.cmpnm="facebook"><i class="icon icon-facebook"></i>Facebook</a></div>
                            
                            
                            
                        </div>
                    </li>
                    <li class="typeSep">|</li>
                    
                        <li>
                            <label for="platform-selector">Platform</label>									
                            <select name="platform-selector" id="platform-selector">
                                
                                <option value="platform-net-11">net-11
                                
                                <option value="platform-net-20">net-20
                                
                                <option value="platform-netcore-10">netcore-10
                                
                            </select>
                        </li>
                    
                    
                    <li>
                        <label for="theme-selector">Theme</label>
                        <select id="theme-selector">
                            <option value="" class="removedOnload">
                            <option value="">Light
                            <option value="theme_night">Dark
                        </select>
                    </li>
                </ul>

                <nav id="side-doc-outline" class="doc-outline" ms.cmpgrp="intopic toc" role="navigation" aria-label="On page navigation">
                    <h3>In this article</h3>
                </nav>
            
            </div>
        </div>        
    </div>




</header>

    <main>
		  <div class="container" ms.pgarea="body">        

        <div id="sidebar" ms.cmpgrp="left toc" role="navigation" aria-label="main navigation">
          <div id="sidebarContent">
            <div class="filterHolder"></div>
            <nav class="toc"></nav>          
            <div class="pdfDownloadHolder"></div>
          </div>
          <div class="tocSpace"></div>
        </div>

        <div id="menu-nav" class="dropdown-container">
          <div class="dropdown dropdown-full mobilenavi">
            <select>
            </select>
          </div>
        </div>
		
        <div id="main" role="main" ms.pgarea="content">
          <div id="langDisclaimer" class="disclaimer" style="display:none;"><span class="icon icon-disclaimer"></span><span class="disclaimertext">This content is not available in your language but here is the English version.</span></div>
                    
              
    <h1 id="System_IO_FileStream">
      <span class="lang-csharp">FileStream</span>
        Class
    </h1>
    
    
    <nav id="center-doc-outline" class="doc-outline" ms.cmpgrp="intopic toc" role="navigation" aria-label="On page navigation">
      <h3>In this Article</h3>
    </nav><div class="summary">
    	<p>Provides a <see cref="T:System.IO.Stream"> for a file, supporting both synchronous and asynchronous read and write operations.  <p>
<p> To browse the .NET Framework source code for this type, see the <a href="http://referencesource.microsoft.com/#mscorlib/system/io/filestream.cs#e23a38af5d11ddd3">Reference Source</a>.</p>
</see>
    </div><h2>Syntax</h2>
    
    	<h3>Declaration</h3>
    	<pre class="memberDeclaration"><code class="csharp lang-csharp">[System.Runtime.InteropServices.ComVisible(true)]
public class FileStream : System.IO.Stream</code></pre>
    
    
    
    <h3>Inheritance Hierarchy</h3>
    <ul class="inheritance">
        <li class="l0">
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object">Object</a>
          </div>
        </li>
        <li class="l1">
          <div class="lang-csharp">
            <a class="xref" href="../system/system.marshalbyrefobject">MarshalByRefObject</a>
          </div>
        </li>
        <li class="l2">
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream">System.IO.Stream</a>
          </div>
        </li>
      <li class="l3">
        <div class="xref">
          <div class="lang-csharp">FileStream</div>
        </div>
      </li>
    </ul>
    
      <div class="referencebox inheritedMembers">
        <h3>Inherited Members</h3>
        <h4></h4>
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CanTimeout">CanTimeout</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_Close">Close()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CopyTo_System_IO_Stream_">CopyTo(Stream)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CopyTo_System_IO_Stream_System_Int32_">CopyTo(Stream,Int32)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_System_IO_Stream_">CopyToAsync(Stream)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_System_IO_Stream_System_Int32_">CopyToAsync(Stream,Int32)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_System_IO_Stream_System_Int32_System_Threading_CancellationToken_">CopyToAsync(Stream,Int32,CancellationToken)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CreateWaitHandle">CreateWaitHandle()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_Dispose">Dispose()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_FlushAsync">FlushAsync()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_Null">Null</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_ObjectInvariant">ObjectInvariant()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_ReadAsync_System_Byte___System_Int32_System_Int32_">ReadAsync(Byte[],Int32,Int32)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_ReadTimeout">ReadTimeout</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_Synchronized_System_IO_Stream_">Synchronized(Stream)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_WriteAsync_System_Byte___System_Int32_System_Int32_">WriteAsync(Byte[],Int32,Int32)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_WriteTimeout">WriteTimeout</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.marshalbyrefobject#System_MarshalByRefObject_CreateObjRef_System_Type_">CreateObjRef(Type)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.marshalbyrefobject#System_MarshalByRefObject_GetLifetimeService">GetLifetimeService()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.marshalbyrefobject#System_MarshalByRefObject_InitializeLifetimeService">InitializeLifetimeService()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.marshalbyrefobject#System_MarshalByRefObject_MemberwiseClone_System_Boolean_">MemberwiseClone(Boolean)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_Equals_System_Object_">Equals(Object)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_Equals_System_Object_System_Object_">Equals(Object,Object)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_GetHashCode">GetHashCode()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_GetType">GetType()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_MemberwiseClone">MemberwiseClone()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_ReferenceEquals_System_Object_System_Object_">ReferenceEquals(Object,Object)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_ToString">ToString()</a>
          </div>
          
      </div>
    
    
      <h2>Remarks</h2>
      <div class="NOTE"><h5>Note</h5><p> To view the .NET Framework source code for this type, see the <a href="http://referencesource.microsoft.com/#mscorlib/system/io/filestream.cs#e23a38af5d11ddd3">Reference Source</a>. You can browse through the source code online, download the reference for offline viewing, and step through the sources (including patches and updates) during debugging; see <a href="http://referencesource.microsoft.com/">instructions</a>.  </p>
</div>
<p> Use the FileStream class to read from, write to, open, and close files on a file system, and to manipulate other file-related operating system handles, including pipes, standard input, and standard output. You can use the <a href="assetId:///M:System.IO.FileStream.Read(System.Byte[],System.Int32,System.Int32)?qualifyHint=False&amp;autoUpgrade=True">Read(Byte[],â€‚Int32,â€‚Int32)</a>, <a href="assetId:///M:System.IO.FileStream.Write(System.Byte[],System.Int32,System.Int32)?qualifyHint=False&amp;autoUpgrade=True">Write(Byte[],â€‚Int32,â€‚Int32)</a>, <a class="xref" href="system.io.stream#System_IO_Stream_CopyTo_">CopyTo</a>, and <a class="xref" href="system.io.filestream#System_IO_FileStream_Flush_">Flush</a> methods to perform synchronous operations, or the <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a>, <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_">CopyToAsync</a>, and <a class="xref" href="system.io.filestream#System_IO_FileStream_FlushAsync_">FlushAsync</a> methods to perform asynchronous operations. Use the asynchronous methods to perform resource-intensive file operations without blocking the main thread. This performance consideration is particularly important in a <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/win8-appname-long-md.md&quot; -->Windows 8.x Store<!--END INCLUDE --> app or <!-- BEGIN ERROR INCLUDE: Unable to resolve [!INCLUDE[desktop_appname](../Token/desktop_appname_md.md)]:Couldn&#39;t find file Token/desktop_appname_md.md. -->[!INCLUDE[desktop_appname](../Token/desktop_appname_md.md)]<!--END ERROR INCLUDE --> app where a time-consuming stream operation can block the UI thread and make your app appear as if it is not working. FileStream buffers input and output for better performance.  </p>
<div class="IMPORTANT"><h5>Important</h5><p> This type implements the <a class="xref" href="../system/system.idisposable">IDisposable</a> interface. When you have finished using the type, you should dispose of it either directly or indirectly. To dispose of the type directly, call its <a class="xref" href="../system/system.idisposable#System_IDisposable_Dispose_">Dispose</a> method in a <code>try</code>/<code>catch</code> block. To dispose of it indirectly, use a language construct such as <code>using</code> (in C#) or <code>Using</code> (in Visual Basic). For more information, see the â€œUsing an Object that Implements IDisposableâ€ section in the <a class="xref" href="../system/system.idisposable">IDisposable</a> interface topic.  </p>
</div>
<p> The <a class="xref" href="system.io.filestream#System_IO_FileStream_IsAsync_">IsAsync</a> property detects whether the file handle was opened asynchronously. You specify this value when you create an instance of the FileStream class using a constructor that has an , , or  parameter. When the property is <code>true</code>, the stream utilizes overlapped I/O to perform file operations asynchronously. However, the <a class="xref" href="system.io.filestream#System_IO_FileStream_IsAsync_">IsAsync</a> property does not have to be <code>true</code> to call the <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a>, or <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_">CopyToAsync</a> method. When the <a class="xref" href="system.io.filestream#System_IO_FileStream_IsAsync_">IsAsync</a> property is <code>false</code> and you call the asynchronous read and write operations, the UI thread is still not blocked, but the actual I/O operation is performed synchronously.  </p>
<p> The <a class="xref" href="system.io.filestream#System_IO_FileStream_Seek_">Seek</a> method supports random access to files. <a class="xref" href="system.io.filestream#System_IO_FileStream_Seek_">Seek</a> allows the read/write position to be moved to any position within the file. This is done with byte offset reference point parameters. The byte offset is relative to the seek reference point, which can be the beginning, the current position, or the end of the underlying file, as represented by the three members of the <a class="xref" href="system.io.seekorigin">SeekOrigin</a> enumeration.  </p>
<div class="NOTE"><h5>Note</h5><p> Disk files always support random access. At the time of construction, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property value is set to <code>true</code> or <code>false</code> depending on the underlying file type.If the underlying file type is FILE_TYPE_DISK, as defined in winbase.h, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property value is <code>true</code>. Otherwise, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property value is <code>false</code>.  </p>
</div>
<p> If a process terminates with part of a file locked or closes a file that has outstanding locks, the behavior is undefined.  </p>
<p> For directory operations and other file operations, see the <a class="xref" href="system.io.file">File</a>, <a class="xref" href="system.io.directory">Directory</a>, and <a class="xref" href="system.io.path">Path</a> classes. The <a class="xref" href="system.io.file">File</a> class is a utility class that has static methods primarily for the creation of FileStream objects based on file paths. The <a class="xref" href="system.io.memorystream">MemoryStream</a> class creates a stream from a byte array and is similar to the FileStream class.  </p>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.  </p>
<h2 id="detection-of-stream-position-changes">Detection of Stream Position Changes</h2>
<p> When a FileStream object does not have an exclusive hold on its handle, another thread could access the file handle concurrently and change the position of the operating system&#39;s file pointer that is associated with the file handle. In this case, the cached position in the FileStream object and the cached data in the buffer could be compromised. The FileStream object routinely performs checks on methods that access the cached buffer to ensure that the operating system&#39;s handle position is the same as the cached position used by the FileStream object.  </p>
<p> If an unexpected change in the handle position is detected in a call to the <a class="xref" href="system.io.filestream#System_IO_FileStream_Read_">Read</a> method, the .NET Framework discards the contents of the buffer and reads the stream from the file again. This can affect performance, depending on the size of the file and any other processes that could affect the position of the file stream.  </p>
<p> If an unexpected change in the handle position is detected in a call to the <a class="xref" href="system.io.filestream#System_IO_FileStream_Write_">Write</a> method, the contents of the buffer are discarded and an <a class="xref" href="system.io.ioexception">IOException</a> exception is thrown.  </p>
<p> A FileStream object will not have an exclusive hold on its handle when either the <a class="xref" href="system.io.filestream#System_IO_FileStream_SafeFileHandle_">SafeFileHandle</a> property is accessed to expose the handle or the FileStream object is given the <a class="xref" href="system.io.filestream#System_IO_FileStream_SafeFileHandle_">SafeFileHandle</a> property in its constructor.</p>

    
    
    <h2>Constructors
     summary</h2>
    
    <table class="nameValue">
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_">FileStream(SafeFileHandle,FileAccess)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_">FileStream(IntPtr,FileAccess)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_String_System_IO_FileMode_">FileStream(String,FileMode)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path and creation mode.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_System_Int32_">FileStream(SafeFileHandle,FileAccess,Int32)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission, and buffer size.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_">FileStream(IntPtr,FileAccess,Boolean)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission and <code>FileStream</code> instance ownership.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_">FileStream(String,FileMode,FileAccess)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, and read/write permission.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_System_Int32_System_Boolean_">FileStream(SafeFileHandle,FileAccess,Int32,Boolean)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission, buffer size, and synchronous or asynchronous state.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_System_Int32_">FileStream(IntPtr,FileAccess,Boolean,Int32)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission, <code>FileStream</code> instance ownership, and buffer size.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_">FileStream(String,FileMode,FileAccess,FileShare)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, read/write permission, and sharing permission.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_System_Int32_System_Boolean_">FileStream(IntPtr,FileAccess,Boolean,Int32,Boolean)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission, <code>FileStream</code> instance ownership, buffer size, and synchronous or asynchronous state.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_">FileStream(String,FileMode,FileAccess,FileShare,Int32)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, read/write and sharing permission, and buffer size.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, read/write and sharing permission, buffer size, and synchronous or asynchronous state.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_IO_FileOptions_">FileStream(String,FileMode,FileAccess,FileShare,Int32,FileOptions)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, read/write and sharing permission, the access other FileStreams can have to the same file, the buffer size, and additional file options.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_Security_AccessControl_FileSystemRights_System_IO_FileShare_System_Int32_System_IO_FileOptions_">FileStream(String,FileMode,FileSystemRights,FileShare,Int32,FileOptions)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, access rights and sharing permission, the buffer size, and additional file options.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_Security_AccessControl_FileSystemRights_System_IO_FileShare_System_Int32_System_IO_FileOptions_System_Security_AccessControl_FileSecurity_">FileStream(String,FileMode,FileSystemRights,FileShare,Int32,FileOptions,FileSecurity)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, access rights and sharing permission, the buffer size, additional file options, access control and audit security.<p>
</see>
            </td>
        </tr>
    </table>
    <h2>Properties
     summary</h2>
    
    <table class="nameValue">
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_CanRead">CanRead</a></div>
          </td>
            <td>
            <p>Gets a value indicating whether the current stream supports reading.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_CanSeek">CanSeek</a></div>
          </td>
            <td>
            <p>Gets a value indicating whether the current stream supports seeking.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_CanWrite">CanWrite</a></div>
          </td>
            <td>
            <p>Gets a value indicating whether the current stream supports writing.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Handle">Handle</a></div>
          </td>
            <td>
            <p>Gets the operating system file handle for the file that the current <code>FileStream</code> object encapsulates.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_IsAsync">IsAsync</a></div>
          </td>
            <td>
            <p>Gets a value indicating whether the <code>FileStream</code> was opened asynchronously or synchronously.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Length">Length</a></div>
          </td>
            <td>
            <p>Gets the length in bytes of the stream.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Name">Name</a></div>
          </td>
            <td>
            <p>Gets the name of the <code>FileStream</code> that was passed to the constructor.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Position">Position</a></div>
          </td>
            <td>
            <p>Gets or sets the current position of this stream.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_SafeFileHandle">SafeFileHandle</a></div>
          </td>
            <td>
            <p>Gets a <a class="xref" href="../microsoft.win32.safehandles/microsoft.win32.safehandles.safefilehandle">SafeFileHandle</a> object that represents the operating system file handle for the file that the current <a class="xref" href="system.io.filestream">FileStream</a> object encapsulates.</p>

            </td>
        </tr>
    </table>
    <h2>Methods
     summary</h2>
    
    <table class="nameValue">
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_BeginRead_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_">BeginRead(Byte[],Int32,Int32,AsyncCallback,Object)</a></div>
          </td>
            <td>
            <p>Begins an asynchronous read operation. (Consider using <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a> instead; see the Remarks section.)</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_BeginWrite_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_">BeginWrite(Byte[],Int32,Int32,AsyncCallback,Object)</a></div>
          </td>
            <td>
            <p>Begins an asynchronous write operation. (Consider using <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a> instead; see the Remarks section.)</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Dispose_System_Boolean_">Dispose(Boolean)</a></div>
          </td>
            <td>
            <p>Releases the unmanaged resources used by the <see cref="T:System.IO.FileStream"> and optionally releases the managed resources.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_EndRead_System_IAsyncResult_">EndRead(IAsyncResult)</a></div>
          </td>
            <td>
            <p>Waits for the pending asynchronous read operation to complete. (Consider using <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a> instead; see the Remarks section.)</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_EndWrite_System_IAsyncResult_">EndWrite(IAsyncResult)</a></div>
          </td>
            <td>
            <p>Ends an asynchronous write operation and blocks until the I/O operation is complete. (Consider using <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a> instead; see the Remarks section.)</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Finalize">Finalize()</a></div>
          </td>
            <td>
            <p>Ensures that resources are freed and other cleanup operations are performed when the garbage collector reclaims the <code>FileStream</code>.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Flush">Flush()</a></div>
          </td>
            <td>
            <p>Clears buffers for this stream and causes any buffered data to be written to the file.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Flush_System_Boolean_">Flush(Boolean)</a></div>
          </td>
            <td>
            <p>Clears buffers for this stream and causes any buffered data to be written to the file, and also clears all intermediate file buffers.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_FlushAsync_System_Threading_CancellationToken_">FlushAsync(CancellationToken)</a></div>
          </td>
            <td>
            <p>Asynchronously clears all buffers for this stream, causes any buffered data to be written to the underlying device, and monitors cancellation requests.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_GetAccessControl">GetAccessControl()</a></div>
          </td>
            <td>
            <p>Gets a <a class="xref" href="../system.security.accesscontrol/system.security.accesscontrol.filesecurity">FileSecurity</a> object that encapsulates the access control list (ACL) entries for the file described by the current <a class="xref" href="system.io.filestream">FileStream</a> object.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Lock_System_Int64_System_Int64_">Lock(Int64,Int64)</a></div>
          </td>
            <td>
            <p>Prevents other processes from reading from or writing to the <see cref="T:System.IO.FileStream">.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Read_System_Byte___System_Int32_System_Int32_">Read(Byte[],Int32,Int32)</a></div>
          </td>
            <td>
            <p>Reads a block of bytes from the stream and writes the data in a given buffer.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_ReadAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_">ReadAsync(Byte[],Int32,Int32,CancellationToken)</a></div>
          </td>
            <td>
            <p>Asynchronously reads a sequence of bytes from the current stream, advances the position within the stream by the number of bytes read, and monitors cancellation requests.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_ReadByte">ReadByte()</a></div>
          </td>
            <td>
            <p>Reads a byte from the file and advances the read position one byte.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Seek_System_Int64_System_IO_SeekOrigin_">Seek(Int64,SeekOrigin)</a></div>
          </td>
            <td>
            <p>Sets the current position of this stream to the given value.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_SetAccessControl_System_Security_AccessControl_FileSecurity_">SetAccessControl(FileSecurity)</a></div>
          </td>
            <td>
            <p>Applies access control list (ACL) entries described by a <a class="xref" href="../system.security.accesscontrol/system.security.accesscontrol.filesecurity">FileSecurity</a> object to the file described by the current <a class="xref" href="system.io.filestream">FileStream</a> object.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_SetLength_System_Int64_">SetLength(Int64)</a></div>
          </td>
            <td>
            <p>Sets the length of this stream to the given value.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Unlock_System_Int64_System_Int64_">Unlock(Int64,Int64)</a></div>
          </td>
            <td>
            <p>Allows access by other processes to all or part of a file that was previously locked.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_Write_System_Byte___System_Int32_System_Int32_">Write(Byte[],Int32,Int32)</a></div>
          </td>
            <td>
            <p>Writes a block of bytes to the file stream.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_WriteAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_">WriteAsync(Byte[],Int32,Int32,CancellationToken)</a></div>
          </td>
            <td>
            <p>Asynchronously writes a sequence of bytes to the current stream, advances the current position within this stream by the number of bytes written, and monitors cancellation requests.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_FileStream_WriteByte_System_Byte_">WriteByte(Byte)</a></div>
          </td>
            <td>
            <p>Writes a byte to the current position in the file stream.</p>

            </td>
        </tr>
    </table>
    <section class="memberGroup">
      <header class="header platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="constructors">
        <h2>Constructors
    </h2>
      </header>
    
      <ul class="list-clean platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
    
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(SafeFileHandle,FileAccess)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (Microsoft.Win32.SafeHandles.SafeFileHandle handle, System.IO.FileAccess access);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>handle</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../microsoft.win32.safehandles/microsoft.win32.safehandles.safefilehandle">SafeFileHandle</a></div>
                  </dd>
                  </dl>
                  <p>A file handle for the file that the current <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that sets the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>When <a class="xref" href="system.io.stream#System_IO_Stream_Close_">Close</a> is called, the handle is also closed and the file&#39;s handle count is decremented.  </p>
<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class="xref" href="system.io.filestream#System_IO_FileStream_Flush_">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> <code>FileShare.Read</code> is the default for those <a class="xref" href="system.io.filestream">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(IntPtr,FileAccess)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (IntPtr handle, System.IO.FileAccess access);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>handle</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.intptr">IntPtr</a></div>
                  </dd>
                  </dl>
                  <p>A file handle for the file that the current <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that sets the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>When <a class="xref" href="system.io.stream#System_IO_Stream_Close_">Close</a> is called, the handle is also closed and the file&#39;s handle count is decremented.  </p>
<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class="xref" href="system.io.filestream#System_IO_FileStream_Flush_">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> <code>FileShare.Read</code> is the default for those <a class="xref" href="system.io.filestream">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_String_System_IO_FileMode_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(String,FileMode)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path and creation mode.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (string path, System.IO.FileMode mode);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>path</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.string">String</a></div>
                  </dd>
                  </dl>
                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>mode</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.filemode">FileMode</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how to open or create the file.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\.\PHYSICALDRIVE0 &quot;.  </p>
<p> The  parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>
<p> The constructor is given read/write access to the file, and it is opened sharing Read access (that is, requests to open the file for writing by this or another process will fail until the <code>FileStream</code> object has been closed, but read attempts will succeed).  </p>
<p> You cannot use this constructor to open read-only files; instead, you must use a constructor that accepts a <code>FileAccess</code> parameter with the value set to <code>FileAccess.Read</code>.  </p>
<p> The buffer size is set to the default size of 4096 bytes (4 KB).  </p>
<div class="NOTE"><h5>Note</h5><p> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>
</div>
<p> <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a> is <code>true</code> for all <a class="xref" href="system.io.filestream">FileStream</a> objects that encapsulate files. If  indicates a device that does not support seeking, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property on the resulting <a class="xref" href="system.io.filestream">FileStream</a> is <code>false</code>. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a>.  </p>
<p> <code>FileShare.Read</code> is the default for those <a class="xref" href="system.io.filestream">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>
<p> For constructors without a <a class="xref" href="system.io.fileaccess">FileAccess</a> parameter, if the  parameter is set to <a class="xref" href="system.io.filemode">FileMode</a>, <a class="xref" href="system.io.fileaccess">FileAccess</a> is the default access. Otherwise, the access is set to <a class="xref" href="system.io.fileaccess">FileAccess</a>.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following code example shows how to write data to a file, byte by byte, and then verify that the data was written correctly.  
  
 [!CODE [System.IO.FileStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream1#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_System_Int32_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(SafeFileHandle,FileAccess,Int32)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission, and buffer size.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (Microsoft.Win32.SafeHandles.SafeFileHandle handle, System.IO.FileAccess access, int bufferSize);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>handle</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../microsoft.win32.safehandles/microsoft.win32.safehandles.safefilehandle">SafeFileHandle</a></div>
                  </dd>
                  </dl>
                  <p>A file handle for the file that the current <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A <see cref="T:System.IO.FileAccess"> constant that sets the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object.<p>
</see>
                </li>
                <li>
                  <dl>
                  <dt>bufferSize</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>A positive <a class="xref" href="../system/system.int32">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p><code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class="xref" href="system.io.filestream#System_IO_FileStream_Flush_">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle. Alternately, read and write to the handle before calling this <code>FileStream</code> constructor.  </p>
<p> <code>FileShare.Read</code> is the default for those <a class="xref" href="system.io.filestream">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(IntPtr,FileAccess,Boolean)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission and <code>FileStream</code> instance ownership.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (IntPtr handle, System.IO.FileAccess access, bool ownsHandle);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>handle</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.intptr">IntPtr</a></div>
                  </dd>
                  </dl>
                  <p>A file handle for the file that the current <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that sets the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object.</p>

                </li>
                <li>
                  <dl>
                  <dt>ownsHandle</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </dd>
                  </dl>
                  <p><code>true</code> if the file handle will be owned by this <code>FileStream</code> instance; otherwise, <code>false</code>.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The <code>FileStream</code> object is given the specified access to the file. The ownership of the handle will be as specified. If this process owns the handle, a call to the <a class="xref" href="system.io.stream#System_IO_Stream_Close_">Close</a> method will also close the handle and the file&#39;s handle count is decremented. The <code>FileStream</code> object is given the default buffer size of 4096 bytes.  </p>
<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class="xref" href="system.io.filestream#System_IO_FileStream_Flush_">Flush</a> before using the handle, and avoid calling methods other than <code>Close</code> after you are done using the handle.  </p>
<p> <code>FileShare.Read</code> is the default for those <a class="xref" href="system.io.filestream">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(String,FileMode,FileAccess)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, and read/write permission.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (string path, System.IO.FileMode mode, System.IO.FileAccess access);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>path</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.string">String</a></div>
                  </dd>
                  </dl>
                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>mode</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.filemode">FileMode</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how to open or create the file.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file can be accessed by the <code>FileStream</code> object. This also determines the values returned by the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object. <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> is <code>true</code> if  specifies a disk file.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\.\PHYSICALDRIVE0 &quot;.  </p>
<p> The  parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>
<p> The constructor is given read/write access to the file, and it is opened sharing Read access (that is, requests to open the file for writing by this or another process will fail until the <code>FileStream</code> object has been closed, but read attempts will succeed). The buffer size is set to the default size of 4096 bytes (4 KB).  </p>
<div class="NOTE"><h5>Note</h5><p> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>
</div>
<p> <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a> is <code>true</code> for all <a class="xref" href="system.io.filestream">FileStream</a> objects that encapsulate files. If  indicates a device that does not support seeking, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property on the resulting <a class="xref" href="system.io.filestream">FileStream</a> is <code>false</code>. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a>.  </p>
<p> <code>FileShare.Read</code> is the default for those <a class="xref" href="system.io.filestream">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_Microsoft_Win32_SafeHandles_SafeFileHandle_System_IO_FileAccess_System_Int32_System_Boolean_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(SafeFileHandle,FileAccess,Int32,Boolean)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission, buffer size, and synchronous or asynchronous state.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (Microsoft.Win32.SafeHandles.SafeFileHandle handle, System.IO.FileAccess access, int bufferSize, bool isAsync);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>handle</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../microsoft.win32.safehandles/microsoft.win32.safehandles.safefilehandle">SafeFileHandle</a></div>
                  </dd>
                  </dl>
                  <p>A file handle for the file that this <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that sets the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object.</p>

                </li>
                <li>
                  <dl>
                  <dt>bufferSize</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>A positive <a class="xref" href="../system/system.int32">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>

                </li>
                <li>
                  <dl>
                  <dt>isAsync</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </dd>
                  </dl>
                  <p><code>true</code> if the handle was opened asynchronously (that is, in overlapped I/O mode); otherwise, <code>false</code>.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>You set the  parameter to <code>true</code> to open the file handle asynchronously. When the parameter is <code>true</code>, the stream utilizes overlapped I/O to perform file operations asynchronously. However, the parameter does not have to be <code>true</code> to call the <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a>, or <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_">CopyToAsync</a> method. When the  parameter is <code>false</code> and you call the asynchronous read and write operations, the UI thread is still not blocked, but the actual I/O operation is performed synchronously.  </p>
<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class="xref" href="system.io.filestream#System_IO_FileStream_Flush_">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle. Alternately, read and write to the handle before calling this <code>FileStream</code> constructor.  </p>
<p> <code>FileShare.Read</code> is the default for those <a class="xref" href="system.io.filestream">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_System_Int32_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(IntPtr,FileAccess,Boolean,Int32)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission, <code>FileStream</code> instance ownership, and buffer size.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (IntPtr handle, System.IO.FileAccess access, bool ownsHandle, int bufferSize);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>handle</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.intptr">IntPtr</a></div>
                  </dd>
                  </dl>
                  <p>A file handle for the file that this <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that sets the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object.</p>

                </li>
                <li>
                  <dl>
                  <dt>ownsHandle</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </dd>
                  </dl>
                  <p><code>true</code> if the file handle will be owned by this <code>FileStream</code> instance; otherwise, <code>false</code>.</p>

                </li>
                <li>
                  <dl>
                  <dt>bufferSize</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>A positive <a class="xref" href="../system/system.int32">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The <code>FileStream</code> object is given the specified access to the file. The ownership of the handle will be as specified. If this <code>FileStream</code> owns the handle, a call to the <a class="xref" href="system.io.stream#System_IO_Stream_Close_">Close</a> method will also close the handle. In particular, the file&#39;s handle count is decremented. The <code>FileStream</code> object is given the specified buffer size.  </p>
<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class="xref" href="system.io.filestream#System_IO_FileStream_Flush_">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle. Alternately, read and write to the handle before calling this <code>FileStream</code> constructor.  </p>
<p> <code>FileShare.Read</code> is the default for those <a class="xref" href="system.io.filestream">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(String,FileMode,FileAccess,FileShare)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, read/write permission, and sharing permission.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (string path, System.IO.FileMode mode, System.IO.FileAccess access, System.IO.FileShare share);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>path</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.string">String</a></div>
                  </dd>
                  </dl>
                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>mode</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.filemode">FileMode</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how to open or create the file.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file can be accessed by the <code>FileStream</code> object. This also determines the values returned by the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object. <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> is <code>true</code> if  specifies a disk file.</p>

                </li>
                <li>
                  <dl>
                  <dt>share</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileshare">FileShare</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file will be shared by processes.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\.\PHYSICALDRIVE0 &quot;.  </p>
<p> The  parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>
<p> The constructor is given read/write access to the file, and it is opened sharing Read access (that is, requests to open the file for writing by this or another process will fail until the <code>FileStream</code> object has been closed, but read attempts will succeed). The buffer size is set to the default size of 4096 bytes (4 KB).  </p>
<div class="NOTE"><h5>Note</h5><p> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>
</div>
<p> <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a> is <code>true</code> for all <a class="xref" href="system.io.filestream">FileStream</a> objects that encapsulate files. If  indicates a device that does not support seeking, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property on the resulting <a class="xref" href="system.io.filestream">FileStream</a> is <code>false</code>. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a>.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.filestream.lock%2a> method.  
  
 [!CODE [System.IO.FileStream3#2](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream3#2)]
    
    
        </xref:system.io.filestream.lock%2a></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_IntPtr_System_IO_FileAccess_System_Boolean_System_Int32_System_Boolean_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(IntPtr,FileAccess,Boolean,Int32,Boolean)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class for the specified file handle, with the specified read/write permission, <code>FileStream</code> instance ownership, buffer size, and synchronous or asynchronous state.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (IntPtr handle, System.IO.FileAccess access, bool ownsHandle, int bufferSize, bool isAsync);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>handle</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.intptr">IntPtr</a></div>
                  </dd>
                  </dl>
                  <p>A file handle for the file that this <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that sets the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object.</p>

                </li>
                <li>
                  <dl>
                  <dt>ownsHandle</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </dd>
                  </dl>
                  <p><code>true</code> if the file handle will be owned by this <code>FileStream</code> instance; otherwise, <code>false</code>.</p>

                </li>
                <li>
                  <dl>
                  <dt>bufferSize</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>A positive <a class="xref" href="../system/system.int32">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>

                </li>
                <li>
                  <dl>
                  <dt>isAsync</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </dd>
                  </dl>
                  <p><code>true</code> if the handle was opened asynchronously (that is, in overlapped I/O mode); otherwise, <code>false</code>.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The <code>FileStream</code> object is given the specified access to the file. The ownership of the handle will be as specified. If this <code>FileStream</code> owns the handle, a call to the <a class="xref" href="system.io.stream#System_IO_Stream_Close_">Close</a> method will also close the handle. In particular, the file&#39;s handle count is decremented. The <code>FileStream</code> object is given the specified buffer size.  </p>
<p> <code>FileStream</code> assumes that it has exclusive control over the handle. Reading, writing, or seeking while a <code>FileStream</code> is also holding a handle could result in data corruption. For data safety, call <a class="xref" href="system.io.filestream#System_IO_FileStream_Flush_">Flush</a> before using the handle, and avoid calling any methods other than <code>Close</code> after you are done using the handle. Alternately, read and write to the handle before calling this <code>FileStream</code> constructor.  </p>
<p> <code>FileShare.Read</code> is the default for those <a class="xref" href="system.io.filestream">FileStream</a> constructors without a <code>FileShare</code> parameter.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(String,FileMode,FileAccess,FileShare,Int32)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, read/write and sharing permission, and buffer size.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (string path, System.IO.FileMode mode, System.IO.FileAccess access, System.IO.FileShare share, int bufferSize);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>path</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.string">String</a></div>
                  </dd>
                  </dl>
                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>mode</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.filemode">FileMode</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how to open or create the file.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file can be accessed by the <code>FileStream</code> object. This also determines the values returned by the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object. <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> is <code>true</code> if  specifies a disk file.</p>

                </li>
                <li>
                  <dl>
                  <dt>share</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileshare">FileShare</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file will be shared by processes.</p>

                </li>
                <li>
                  <dl>
                  <dt>bufferSize</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>A positive <a class="xref" href="../system/system.int32">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\.\PHYSICALDRIVE0 &quot;.  </p>
<p> The  parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>
<div class="NOTE"><h5>Note</h5><p> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>
</div>
<p> <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a> is <code>true</code> for all <a class="xref" href="system.io.filestream">FileStream</a> objects that encapsulate files. If  indicates a device that does not support seeking, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property on the resulting <a class="xref" href="system.io.filestream">FileStream</a> is <code>false</code>. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a>.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, read/write and sharing permission, buffer size, and synchronous or asynchronous state.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (string path, System.IO.FileMode mode, System.IO.FileAccess access, System.IO.FileShare share, int bufferSize, bool useAsync);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>path</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.string">String</a></div>
                  </dd>
                  </dl>
                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>mode</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.filemode">FileMode</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how to open or create the file.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file can be accessed by the <code>FileStream</code> object. This also determines the values returned by the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object. <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> is <code>true</code> if  specifies a disk file.</p>

                </li>
                <li>
                  <dl>
                  <dt>share</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileshare">FileShare</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file will be shared by processes.</p>

                </li>
                <li>
                  <dl>
                  <dt>bufferSize</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>A positive <a class="xref" href="../system/system.int32">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096..</p>

                </li>
                <li>
                  <dl>
                  <dt>useAsync</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </dd>
                  </dl>
                  <p>Specifies whether to use asynchronous I/O or synchronous I/O. However, note that the underlying operating system might not support asynchronous I/O, so when specifying <code>true</code>, the handle might be opened synchronously depending on the platform. When opened asynchronously, the <a class="xref" href="system.io.filestream#System_IO_FileStream_BeginRead_">BeginRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_BeginWrite_">BeginWrite</a> methods perform better on large reads or writes, but they might be much slower for small reads or writes. If the application is designed to take advantage of asynchronous I/O, set the  parameter to <code>true</code>. Using asynchronous I/O correctly can speed up applications by as much as a factor of 10, but using it without redesigning the application for asynchronous I/O can decrease performance by as much as a factor of 10.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\.\PHYSICALDRIVE0 &quot;.  </p>
<p> The  parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>
<div class="NOTE"><h5>Note</h5><p> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>
</div>
<p> <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a> is <code>true</code> for all <a class="xref" href="system.io.filestream">FileStream</a> objects that encapsulate files. If  indicates a device that does not support seeking, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property on the resulting <a class="xref" href="system.io.filestream">FileStream</a> is <code>false</code>. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a>.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following code example shows how to asynchronously write data to a file and then verify that the data was written correctly. A `State` object is created to pass information from the main thread to the `EndReadCallback` and `EndWriteCallback` methods.  
  
 [!CODE [System.IO.FileStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_IO_FileOptions_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(String,FileMode,FileAccess,FileShare,Int32,FileOptions)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, read/write and sharing permission, the access other FileStreams can have to the same file, the buffer size, and additional file options.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (string path, System.IO.FileMode mode, System.IO.FileAccess access, System.IO.FileShare share, int bufferSize, System.IO.FileOptions options);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>path</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.string">String</a></div>
                  </dd>
                  </dl>
                  <p>A relative or absolute path for the file that the current <code>FileStream</code> object will encapsulate.</p>

                </li>
                <li>
                  <dl>
                  <dt>mode</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.filemode">FileMode</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how to open or create the file.</p>

                </li>
                <li>
                  <dl>
                  <dt>access</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileaccess">FileAccess</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file can be accessed by the <code>FileStream</code> object. This also determines the values returned by the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> and <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> properties of the <code>FileStream</code> object. <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> is <code>true</code> if  specifies a disk file.</p>

                </li>
                <li>
                  <dl>
                  <dt>share</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileshare">FileShare</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file will be shared by processes.</p>

                </li>
                <li>
                  <dl>
                  <dt>bufferSize</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>A positive <a class="xref" href="../system/system.int32">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>

                </li>
                <li>
                  <dl>
                  <dt>options</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileoptions">FileOptions</a></div>
                  </dd>
                  </dl>
                  <p>A value that specifies additional file options.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\.\PHYSICALDRIVE0 &quot;.  </p>
<p> The  parameter is used to provide access to more advanced operations that can be leveraged when creating a <a class="xref" href="system.io.filestream">FileStream</a> object.  </p>
<p> The  parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>
<div class="NOTE"><h5>Note</h5><p> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>
</div>
<p> <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a> is <code>true</code> for all <a class="xref" href="system.io.filestream">FileStream</a> objects that encapsulate files. If  indicates a device that does not support seeking, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property on the resulting <a class="xref" href="system.io.filestream">FileStream</a> is <code>false</code>. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a>.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example writes data to a file and then reads the data using the <xref:system.io.filestream> object.  
  
 [!CODE [IO.FileStream.ctor1#1](../CodeSnippet/VS_Snippets_CLR/IO.FileStream.ctor1#1)]
    
    
        </xref:system.io.filestream></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_Security_AccessControl_FileSystemRights_System_IO_FileShare_System_Int32_System_IO_FileOptions_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(String,FileMode,FileSystemRights,FileShare,Int32,FileOptions)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, access rights and sharing permission, the buffer size, and additional file options.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (string path, System.IO.FileMode mode, System.Security.AccessControl.FileSystemRights rights, System.IO.FileShare share, int bufferSize, System.IO.FileOptions options);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>path</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.string">String</a></div>
                  </dd>
                  </dl>
                  <p>A relative or absolute path for the file that the current <see cref="T:System.IO.FileStream"> object will encapsulate.<p>
</see>
                </li>
                <li>
                  <dl>
                  <dt>mode</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.filemode">FileMode</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how to open or create the file.</p>

                </li>
                <li>
                  <dl>
                  <dt>rights</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system.security.accesscontrol/system.security.accesscontrol.filesystemrights">FileSystemRights</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines the access rights to use when creating access and audit rules for the file.</p>

                </li>
                <li>
                  <dl>
                  <dt>share</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileshare">FileShare</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file will be shared by processes.</p>

                </li>
                <li>
                  <dl>
                  <dt>bufferSize</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>A positive <a class="xref" href="../system/system.int32">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>

                </li>
                <li>
                  <dl>
                  <dt>options</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileoptions">FileOptions</a></div>
                  </dd>
                  </dl>
                  <p>A constant that specifies additional file options.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\.\PHYSICALDRIVE0 &quot;.  </p>
<p> Use this FileStream constructor to apply access rights at the point of creation of a file. To access or modify rights on an existing file, consider using the <a class="xref" href="system.io.file#System_IO_File_GetAccessControl_">GetAccessControl</a> and <a class="xref" href="system.io.file#System_IO_File_SetAccessControl_">SetAccessControl</a> methods.  </p>
<p> The  parameter is used to provide access to more advanced operations that can be leveraged when creating a <a class="xref" href="system.io.filestream">FileStream</a> object.  </p>
<p> The  parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>
<div class="NOTE"><h5>Note</h5><p> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>
</div>
<p> <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a> is <code>true</code> for all <a class="xref" href="system.io.filestream">FileStream</a> objects that encapsulate files. If  indicates a device that does not support seeking, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property on the resulting <a class="xref" href="system.io.filestream">FileStream</a> is <code>false</code>. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a>.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_Security_AccessControl_FileSystemRights_System_IO_FileShare_System_Int32_System_IO_FileOptions_System_Security_AccessControl_FileSecurity_">
    
            <a id="System_IO_FileStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FileStream(String,FileMode,FileSystemRights,FileShare,Int32,FileOptions,FileSecurity)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.FileStream"> class with the specified path, creation mode, access rights and sharing permission, the buffer size, additional file options, access control and audit security.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public FileStream (string path, System.IO.FileMode mode, System.Security.AccessControl.FileSystemRights rights, System.IO.FileShare share, int bufferSize, System.IO.FileOptions options, System.Security.AccessControl.FileSecurity fileSecurity);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>path</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.string">String</a></div>
                  </dd>
                  </dl>
                  <p>A relative or absolute path for the file that the current <see cref="T:System.IO.FileStream"> object will encapsulate.<p>
</see>
                </li>
                <li>
                  <dl>
                  <dt>mode</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.filemode">FileMode</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how to open or create the file.</p>

                </li>
                <li>
                  <dl>
                  <dt>rights</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system.security.accesscontrol/system.security.accesscontrol.filesystemrights">FileSystemRights</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines the access rights to use when creating access and audit rules for the file.</p>

                </li>
                <li>
                  <dl>
                  <dt>share</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileshare">FileShare</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines how the file will be shared by processes.</p>

                </li>
                <li>
                  <dl>
                  <dt>bufferSize</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>A positive <a class="xref" href="../system/system.int32">Int32</a> value greater than 0 indicating the buffer size. The default buffer size is 4096.</p>

                </li>
                <li>
                  <dl>
                  <dt>options</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.fileoptions">FileOptions</a></div>
                  </dd>
                  </dl>
                  <p>A constant that specifies additional file options.</p>

                </li>
                <li>
                  <dl>
                  <dt>fileSecurity</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system.security.accesscontrol/system.security.accesscontrol.filesecurity">FileSecurity</a></div>
                  </dd>
                  </dl>
                  <p>A constant that determines the access control and audit security for the file.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The .NET Framework does not support direct access to physical disks through paths that are device names, such as &quot;\\.\PHYSICALDRIVE0 &quot;.  </p>
<p> Use this FileStream constructor to apply access rights at the point of creation of a file. To access or modify rights on an existing file, consider using the <a class="xref" href="system.io.file#System_IO_File_GetAccessControl_">GetAccessControl</a> and <a class="xref" href="system.io.file#System_IO_File_SetAccessControl_">SetAccessControl</a> methods.  </p>
<p> The  parameter is used to provide access to more advanced operations that can be leveraged when creating a <a class="xref" href="system.io.filestream">FileStream</a> object.  </p>
<p> The  parameter can be a file name, including a file on a Universal Naming Convention (UNC) share.  </p>
<div class="NOTE"><h5>Note</h5><p> is not required to be a file stored on disk; it can be any part of a system that supports access through streams. For example, depending on the system, this class can access a physical device.  </p>
</div>
<p> <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a> is <code>true</code> for all <a class="xref" href="system.io.filestream">FileStream</a> objects that encapsulate files. If  indicates a device that does not support seeking, the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property on the resulting <a class="xref" href="system.io.filestream">FileStream</a> is <code>false</code>. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a>.  </p>
<div class="CAUTION"><h5>Caution</h5><p> When you compile a set of characters with a particular cultural setting and retrieve those same characters with a different cultural setting, the characters might not be interpretable, and could cause an exception to be thrown.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example writes data to a file and then reads the data using the <xref:system.io.filestream> object.  
  
 [!CODE [IO.FileStream.ctor2#1](../CodeSnippet/VS_Snippets_CLR/IO.FileStream.ctor2#1)]
    
    
        </xref:system.io.filestream></li>
      </ul>
    </section><section class="memberGroup">
      <header class="header platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="properties">
        <h2>Properties
    </h2>
      </header>
    
      <ul class="list-clean platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
    
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_CanRead">
    
            <a id="System_IO_FileStream_CanRead_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">CanRead</div>        
          </div>
    
            <p>Gets a value indicating whether the current stream supports reading.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override bool CanRead { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </div>
                  <p><code>true</code> if the stream supports reading; <code>false</code> if the stream is closed or was opened with write-only access.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>If a class derived from <a class="xref" href="system.io.stream">Stream</a> does not support reading, calls to the <a class="xref" href="system.io.filestream#System_IO_FileStream_Read_">Read</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadByte_">ReadByte</a>, and <a class="xref" href="system.io.filestream#System_IO_FileStream_BeginRead_">BeginRead</a> methods throw a <a class="xref" href="../system/system.notsupportedexception">NotSupportedException</a>.  </p>
<p> If the stream is closed, this property returns <code>false</code>.</p>

    
            <h4>Example</h4>
            The following example demonstrates a use of the `CanRead` property. The output of this code is "MyFile.txt is not writable." To get the output message "MyFile.txt can be both written to and read from.", change the `FileAccess` parameter to `ReadWrite` in the `FileStream` constructor.  
  
 [!CODE [Classic FileStream.CanRead Example#1](../CodeSnippet/VS_Snippets_CLR_Classic/classic FileStream.CanRead Example#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_CanSeek">
    
            <a id="System_IO_FileStream_CanSeek_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">CanSeek</div>        
          </div>
    
            <p>Gets a value indicating whether the current stream supports seeking.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override bool CanSeek { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </div>
                  <p><code>true</code> if the stream supports seeking; <code>false</code> if the stream is closed or if the <code>FileStream</code> was constructed from an operating-system handle such as a pipe or output to the console.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>If a class derived from <a class="xref" href="system.io.stream">Stream</a> does not support seeking, calls to <a class="xref" href="system.io.filestream#System_IO_FileStream_Length_">Length</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_SetLength_">SetLength</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_Position_">Position</a>, and <a class="xref" href="system.io.filestream#System_IO_FileStream_Seek_">Seek</a> throw a <a class="xref" href="../system/system.notsupportedexception">NotSupportedException</a>.  </p>
<p> If the stream is closed, this property returns <code>false</code>.</p>

    
            <h4>Example</h4>
            The following example uses the `CanSeek` property to check whether a stream supports seeking.  
  
 [!CODE [fstream canseek#1](../CodeSnippet/VS_Snippets_CLR/FStream CanSeek#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_CanWrite">
    
            <a id="System_IO_FileStream_CanWrite_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">CanWrite</div>        
          </div>
    
            <p>Gets a value indicating whether the current stream supports writing.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override bool CanWrite { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </div>
                  <p><code>true</code> if the stream supports writing; <code>false</code> if the stream is closed or was opened with read-only access.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>If a class derived from <a class="xref" href="system.io.stream">Stream</a> does not support writing, a call to <a class="xref" href="system.io.filestream#System_IO_FileStream_SetLength_">SetLength</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_Write_">Write</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_BeginWrite_">BeginWrite</a>, or <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteByte_">WriteByte</a> throws a <a class="xref" href="../system/system.notsupportedexception">NotSupportedException</a>.  </p>
<p> If the stream is closed, this property returns <code>false</code>.</p>

    
            <h4>Example</h4>
            The following example uses the `CanWrite` property to check whether a stream supports writing.  
  
 [!CODE [fstream canwrite#1](../CodeSnippet/VS_Snippets_CLR/FStream CanWrite#1)]  
  
 The following is an example using the `CanWrite` property. The output of this code is "MyFile.txt is writable." To get the output message "MyFile.txt can be both written to and read from.", change the `FileAccess` parameter to `ReadWrite` in the `FileStream` constructor.  
  
 [!CODE [Classic FileStream.CanWrite Example#1](../CodeSnippet/VS_Snippets_CLR_Classic/classic FileStream.CanWrite Example#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Handle">
    
            <a id="System_IO_FileStream_Handle_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Handle</div>        
          </div>
    
            <p>Gets the operating system file handle for the file that the current <code>FileStream</code> object encapsulates.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public virtual IntPtr Handle { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.intptr">IntPtr</a></div>
                  </div>
                  <p>The operating system file handle for the file encapsulated by this <code>FileStream</code> object, or -1 if the <code>FileStream</code> has been closed.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>This property is an operating system handle for use with operating-system-provided system calls (such as <code>ReadFile</code> on Windows). It will not work with C library functions that expect a file descriptor, such as <code>fread</code>.  </p>
<p> The operating system handle might have been opened synchronously or asynchronously, depending on which <code>FileStream</code> constructor was called. Use the <a class="xref" href="system.io.filestream#System_IO_FileStream_IsAsync_">IsAsync</a> property to discover whether this handle was opened asynchronously. In Win32, this means the handle was opened for overlapped IO, and it requires different parameters to <code>ReadFile</code> and <code>WriteFile</code>.  </p>
<div class="CAUTION"><h5>Caution</h5><p> Data corruption might occur if a <code>FileStream</code> is created, its handle is passed, some operation moves the handle&#39;s file pointer, and then the <code>FileStream</code> is used again. Multiple threads cannot safely write to the same file simultaneously, and <code>FileStream</code> buffering code assumes that it exclusively controls the handle. <code>FileStream</code> might throw an <a class="xref" href="system.io.ioexception">IOException</a> if <code>FileStream</code> detects that some other process has moved the file pointer. To avoid this, do not write any data into a portion of the file that <code>FileStream</code> might have buffered, and restore the file pointer to the location it had when methods were last called on <code>FileStream</code>.</p>
</div>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_IsAsync">
    
            <a id="System_IO_FileStream_IsAsync_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">IsAsync</div>        
          </div>
    
            <p>Gets a value indicating whether the <code>FileStream</code> was opened asynchronously or synchronously.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public virtual bool IsAsync { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </div>
                  <p><code>true</code> if the <code>FileStream</code> was opened asynchronously; otherwise, <code>false</code>.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>The <code>IsAsync</code> property detects whether the <code>FileStream</code> handle was opened asynchronously, enabling your code to use the <a class="xref" href="system.io.filestream#System_IO_FileStream_Handle_">Handle</a> property correctly. In Win32, <code>IsAsync</code> being true means the handle was opened for overlapped I/O, and thus requires different parameters to <code>ReadFile</code> and <code>WriteFile</code>.  </p>
<p> You specify this value when you create an instance of the <a class="xref" href="system.io.filestream">FileStream</a> class using a constructor that has an , , or  parameter. When the property is <code>true</code>, the stream utilizes overlapped I/O to perform file operations asynchronously. However, the IsAsync property does not have to be <code>true</code> to call the <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a>, or <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_">CopyToAsync</a> method. When the IsAsync property is <code>false</code> and you call the asynchronous read and write operations, the UI thread is still not blocked, but the actual I/O operation is performed synchronously.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29> constructor.  
  
 [!CODE [System.IO.FileStream2#2](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream2#2)]
    
    
        </xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Length">
    
            <a id="System_IO_FileStream_Length_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Length</div>        
          </div>
    
            <p>Gets the length in bytes of the stream.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override long Length { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </div>
                  <p>A long value representing the length of the stream in bytes.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example uses the `Length` and `Position` properties to check for an end-of-file condition.  
  
 [!CODE [Classic FileStream.Length Example#1](../CodeSnippet/VS_Snippets_CLR_Classic/classic FileStream.Length Example#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Name">
    
            <a id="System_IO_FileStream_Name_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Name</div>        
          </div>
    
            <p>Gets the name of the <code>FileStream</code> that was passed to the constructor.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public string Name { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.string">String</a></div>
                  </div>
                  <p>A string that is the name of the <code>FileStream</code>.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29> constructor.  
  
 [!CODE [System.IO.FileStream2#4](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream2#4)]
    
    
        </xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Position">
    
            <a id="System_IO_FileStream_Position_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Position</div>        
          </div>
    
            <p>Gets or sets the current position of this stream.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override long Position { get; set; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </div>
                  <p>The current position of this stream.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>Seeking to any location beyond the length of the stream is supported.  When you seek beyond the length of the file, the file size grows.  In Microsoft Windows NT and newer, any data added to the end of the file is set to zero.  In Microsoft Windows 98 or earlier, any data added to the end of the file is not set to zero, which means that previously deleted data is visible to the stream. Setting the position of the stream to a large value beyond the end of the stream in Windows 98 or earlier may result in an exception being raised.  </p>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example uses the `Length` and `Position` properties to check for an end-of-file condition.  
  
 [!CODE [Classic FileStream.Length Example#1](../CodeSnippet/VS_Snippets_CLR_Classic/classic FileStream.Length Example#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_SafeFileHandle">
    
            <a id="System_IO_FileStream_SafeFileHandle_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">SafeFileHandle</div>        
          </div>
    
            <p>Gets a <a class="xref" href="../microsoft.win32.safehandles/microsoft.win32.safehandles.safefilehandle">SafeFileHandle</a> object that represents the operating system file handle for the file that the current <a class="xref" href="system.io.filestream">FileStream</a> object encapsulates.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public virtual Microsoft.Win32.SafeHandles.SafeFileHandle SafeFileHandle { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../microsoft.win32.safehandles/microsoft.win32.safehandles.safefilehandle">SafeFileHandle</a></div>
                  </div>
                  <p>An object that represents the operating system file handle for the file that the current <see cref="T:System.IO.FileStream"> object encapsulates.<p>
</see>
                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>The SafeFileHandle property automatically flushes the stream and sets the current stream position to 0.  This allows the file to be moved or the stream position to be reset by another stream using the SafeFileHandle returned by this property.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
      </ul>
    </section><section class="memberGroup">
      <header class="header platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="methods">
        <h2>Methods
    </h2>
      </header>
    
      <ul class="list-clean platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
    
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_BeginRead_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_">
    
            <a id="System_IO_FileStream_BeginRead_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">BeginRead(Byte[],Int32,Int32,AsyncCallback,Object)</div>        
          </div>
    
            <p>Begins an asynchronous read operation. (Consider using <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a> instead; see the Remarks section.)</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override IAsyncResult BeginRead (byte[] array, int offset, int numBytes, AsyncCallback userCallback, object stateObject);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>array</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The buffer to read data into.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The byte offset in  at which to begin reading.</p>

                </li>
                <li>
                  <dl>
                  <dt>numBytes</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The maximum number of bytes to read.</p>

                </li>
                <li>
                  <dl>
                  <dt>userCallback</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.asynccallback">AsyncCallback</a></div>
                  </dd>
                  </dl>
                  <p>The method to be called when the asynchronous read operation is completed.</p>

                </li>
                <li>
                  <dl>
                  <dt>stateObject</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.object">Object</a></div>
                  </dd>
                  </dl>
                  <p>A user-provided object that distinguishes this particular asynchronous read request from other requests.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.iasyncresult">IAsyncResult</a></div>
                  </div>
                  <p>An object that references the asynchronous read.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as BeginRead and <a class="xref" href="system.io.filestream#System_IO_FileStream_EndRead_">EndRead</a> to implement asynchronous file operations. These methods are still available in the <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/net-v45-md.md&quot; -->.NET Framework 4.5<!--END INCLUDE --> to support legacy code; however, the new async methods, such as <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a>, <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_">CopyToAsync</a>, and <a class="xref" href="system.io.filestream#System_IO_FileStream_FlushAsync_">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>
<p> <a class="xref" href="system.io.filestream#System_IO_FileStream_EndRead_">EndRead</a> must be called exactly once for every call to BeginRead. Failing to end a read process before beginning another read can cause undesirable behavior such as deadlock.  </p>
<p> <a class="xref" href="system.io.filestream">FileStream</a> provides two different modes of operation: synchronous I/O and asynchronous I/O. While either can be used, the underlying operating system resources might allow access in only one of these modes. By default, <a class="xref" href="system.io.filestream">FileStream</a> opens the operating system handle synchronously. In Windows, this slows down asynchronous methods. If asynchronous methods are used, use the <a class="xref" href="system.io.filestream#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a> constructor.  </p>
<div class="NOTE"><h5>Note</h5><p> Use the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> property to determine whether the current instance supports reading. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanRead_">CanRead</a>.  </p>
</div>
<p> If a stream is closed or you pass an invalid argument, exceptions are thrown immediately from BeginRead. Errors that occur during an asynchronous read request, such as a disk failure during the IO request, occur on the thread pool thread and become visible upon a call to <a class="xref" href="system.io.filestream#System_IO_FileStream_EndRead_">EndRead</a>.  </p>
<p> <a class="xref" href="system.io.stream#System_IO_Stream_EndRead_">EndRead</a> must be called with this <a class="xref" href="../system/system.iasyncresult">IAsyncResult</a> to find out how many bytes were read.  </p>
<p> Multiple simultaneous asynchronous requests render the request completion order uncertain.  </p>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29> constructor.  
  
 [!CODE [System.IO.FileStream2#3](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream2#3)]
    
    
        </xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_BeginWrite_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_">
    
            <a id="System_IO_FileStream_BeginWrite_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">BeginWrite(Byte[],Int32,Int32,AsyncCallback,Object)</div>        
          </div>
    
            <p>Begins an asynchronous write operation. (Consider using <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a> instead; see the Remarks section.)</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override IAsyncResult BeginWrite (byte[] array, int offset, int numBytes, AsyncCallback userCallback, object stateObject);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>array</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The buffer containing data to write to the current stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The zero-based byte offset in  at which to begin copying bytes to the current stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>numBytes</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The maximum number of bytes to write.</p>

                </li>
                <li>
                  <dl>
                  <dt>userCallback</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.asynccallback">AsyncCallback</a></div>
                  </dd>
                  </dl>
                  <p>The method to be called when the asynchronous write operation is completed.</p>

                </li>
                <li>
                  <dl>
                  <dt>stateObject</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.object">Object</a></div>
                  </dd>
                  </dl>
                  <p>A user-provided object that distinguishes this particular asynchronous write request from other requests.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.iasyncresult">IAsyncResult</a></div>
                  </div>
                  <p>An object that references the asynchronous write.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as BeginWrite and <a class="xref" href="system.io.filestream#System_IO_FileStream_EndWrite_">EndWrite</a> to implement asynchronous file operations. These methods are still available in the <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/net-v45-md.md&quot; -->.NET Framework 4.5<!--END INCLUDE --> to support legacy code; however, the new async methods, such as <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a>, <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_">CopyToAsync</a>, and <a class="xref" href="system.io.filestream#System_IO_FileStream_FlushAsync_">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>
<p> <a class="xref" href="system.io.filestream#System_IO_FileStream_EndWrite_">EndWrite</a> must be called exactly once on every <a class="xref" href="../system/system.iasyncresult">IAsyncResult</a> from BeginWrite. <a class="xref" href="system.io.filestream#System_IO_FileStream_EndWrite_">EndWrite</a> will block until the I/O operation has completed.  </p>
<p> This method overrides <a class="xref" href="system.io.stream#System_IO_Stream_BeginWrite_">BeginWrite</a>.  </p>
<p> <a class="xref" href="system.io.filestream">FileStream</a> provides two different modes of operation: synchronous I/O and asynchronous I/O. While either can be used, the underlying operating system resources might allow access in only one of these modes. By default, <a class="xref" href="system.io.filestream">FileStream</a> opens the operating system handle synchronously. In Windows, this slows down asynchronous methods. If asynchronous methods are used, use the <a class="xref" href="system.io.filestream#System_IO_FileStream__ctor_System_String_System_IO_FileMode_System_IO_FileAccess_System_IO_FileShare_System_Int32_System_Boolean_">FileStream(String,FileMode,FileAccess,FileShare,Int32,Boolean)</a> constructor.  </p>
<p> If a stream is closed or you pass an invalid argument, exceptions are thrown immediately from BeginWrite. Errors that occur during an asynchronous write request, such as a disk failure during the IO request, occur on the thread pool thread and become visible upon a call to <a class="xref" href="system.io.filestream#System_IO_FileStream_EndWrite_">EndWrite</a>.  </p>
<p> Multiple simultaneous asynchronous requests render the request completion order uncertain.  </p>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29> constructor.  
  
 [!CODE [System.IO.FileStream2#2](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream2#2)]
    
    
        </xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Dispose_System_Boolean_">
    
            <a id="System_IO_FileStream_Dispose_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Dispose(Boolean)</div>        
          </div>
    
            <p>Releases the unmanaged resources used by the <see cref="T:System.IO.FileStream"> and optionally releases the managed resources.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">protected override void Dispose (bool disposing);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>disposing</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </dd>
                  </dl>
                  <p><code>true</code> to release both managed and unmanaged resources; <code>false</code> to release only unmanaged resources.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>This method is called by the public <a class="xref" href="https://msdn.microsoft.com/en-us/library/s247t0kx(v=vs.110).aspx">Dispose</a> method and the <a class="xref" href="../system/system.object#System_Object_Finalize_">Finalize</a> method. <a class="xref" href="https://msdn.microsoft.com/en-us/library/s247t0kx(v=vs.110).aspx">Dispose</a> invokes the protected Dispose method with the  parameter set to <code>true</code>. <a class="xref" href="../system/system.object#System_Object_Finalize_">Finalize</a> invokes Dispose with  set to <code>false</code>.  </p>
<p> When the  parameter is <code>true</code>, this method releases all resources held by any managed objects that this <a class="xref" href="system.io.filestream">FileStream</a> references. This method invokes the <a class="xref" href="https://msdn.microsoft.com/en-us/library/s247t0kx(v=vs.110).aspx">Dispose</a> method of each referenced object.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_EndRead_System_IAsyncResult_">
    
            <a id="System_IO_FileStream_EndRead_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">EndRead(IAsyncResult)</div>        
          </div>
    
            <p>Waits for the pending asynchronous read operation to complete. (Consider using <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a> instead; see the Remarks section.)</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override int EndRead (IAsyncResult asyncResult);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>asyncResult</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.iasyncresult">IAsyncResult</a></div>
                  </dd>
                  </dl>
                  <p>The reference to the pending asynchronous request to wait for.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </div>
                  <p>The number of bytes read from the stream, between 0 and the number of bytes you requested. Streams only return 0 at the end of the stream, otherwise, they should block until at least 1 byte is available.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as <a class="xref" href="system.io.filestream#System_IO_FileStream_BeginRead_">BeginRead</a> and EndRead to implement asynchronous file operations. These methods are still available in the <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/net-v45-md.md&quot; -->.NET Framework 4.5<!--END INCLUDE --> to support legacy code; however, the new async methods, such as <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a>, <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_">CopyToAsync</a>, and <a class="xref" href="system.io.filestream#System_IO_FileStream_FlushAsync_">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>
<p> EndRead must be called exactly for every call to <a class="xref" href="system.io.filestream#System_IO_FileStream_BeginRead_">BeginRead</a>. Failing to end a read process before beginning another read can cause undesirable behavior such as deadlock.  </p>
<p> This method overrides <a class="xref" href="system.io.stream#System_IO_Stream_EndRead_">EndRead</a>.  </p>
<p> EndRead can be called on every <a class="xref" href="../system/system.iasyncresult">IAsyncResult</a> from <a class="xref" href="system.io.filestream#System_IO_FileStream_BeginRead_">BeginRead</a>. Calling EndRead tells you how many bytes were read from the stream. EndRead will block until the I/O operation has completed.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29> constructor.  
  
 [!CODE [System.IO.FileStream2#4](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream2#4)]
    
    
        </xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_EndWrite_System_IAsyncResult_">
    
            <a id="System_IO_FileStream_EndWrite_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">EndWrite(IAsyncResult)</div>        
          </div>
    
            <p>Ends an asynchronous write operation and blocks until the I/O operation is complete. (Consider using <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a> instead; see the Remarks section.)</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override void EndWrite (IAsyncResult asyncResult);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>asyncResult</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.iasyncresult">IAsyncResult</a></div>
                  </dd>
                  </dl>
                  <p>The pending asynchronous I/O request.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as <a class="xref" href="system.io.filestream#System_IO_FileStream_BeginWrite_">BeginWrite</a> and EndWrite to implement asynchronous file operations. These methods are still available in the <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/net-v45-md.md&quot; -->.NET Framework 4.5<!--END INCLUDE --> to support legacy code; however, the new async methods, such as <a class="xref" href="system.io.filestream#System_IO_FileStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.filestream#System_IO_FileStream_WriteAsync_">WriteAsync</a>, <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_">CopyToAsync</a>, and <a class="xref" href="system.io.filestream#System_IO_FileStream_FlushAsync_">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>
<p> This method overrides <a class="xref" href="system.io.stream#System_IO_Stream_EndWrite_">EndWrite</a>.  </p>
<p> EndWrite must be called exactly once on every <a class="xref" href="../system/system.iasyncresult">IAsyncResult</a> from <a class="xref" href="system.io.filestream#System_IO_FileStream_BeginWrite_">BeginWrite</a>. EndWrite will block until the I/O operation has completed.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29> constructor.  
  
 [!CODE [System.IO.FileStream2#3](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream2#3)]
    
    
        </xref:system.io.filestream.%23ctor%28system.string%2csystem.io.filemode%2csystem.io.fileaccess%2csystem.io.fileshare%2csystem.int32%2csystem.boolean%29></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Finalize">
    
            <a id="System_IO_FileStream_Finalize_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Finalize()</div>        
          </div>
    
            <p>Ensures that resources are freed and other cleanup operations are performed when the garbage collector reclaims the <code>FileStream</code>.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">~FileStream ();</code></pre>
    
    
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The garbage collector calls <code>Finalize</code> when the current object is ready to be finalized. <code>Finalize</code> closes the <code>FileStream</code>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Flush">
    
            <a id="System_IO_FileStream_Flush_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Flush()</div>        
          </div>
    
            <p>Clears buffers for this stream and causes any buffered data to be written to the file.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override void Flush ();</code></pre>
    
    
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>This method overrides <a class="xref" href="system.io.stream#System_IO_Stream_Flush_">Flush</a>.  </p>
<p> When you call the Flush method, the operating system I/O buffer is also flushed.  </p>
<p> A streamâ€™s encoder is not flushed unless you explicitly call Flush or dispose of the object. Setting <a class="xref" href="system.io.streamwriter#System_IO_StreamWriter_AutoFlush_">AutoFlush</a> to <code>true</code> means that data will be flushed from the buffer to the stream, but the encoder state will not be flushed. This allows the encoder to keep its state (partial characters) so that it can encode the next block of characters correctly. This scenario affects UTF8 and UTF7 where certain characters can only be encoded after the encoder receives the adjacent character or characters.  </p>
<p> Because a buffer can be used for either reading or writing, Flush performs the following two functions:  </p>
<ul>
<li><p>Any data previously written to the buffer is copied to the file and the buffer is cleared except for its encoder state.  </p>
</li>
<li><p>If <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_CanSeek_">CanSeek</a> is <code>true</code> and data was previously copied from the file to the buffer for reading, the current position within the file is decremented by the number of unread bytes in the buffer. The buffer is then cleared.  </p>
<p>Use the <a class="xref" href="system.io.filestream#System_IO_FileStream_Flush_System_Boolean_">Flush(Boolean)</a> method overload when you want to ensure that all buffered data in intermediate file buffers is written to disk.</p>
</li>
</ul>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.filestream.lock%2a> method.  
  
 [!CODE [System.IO.FileStream3#4](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream3#4)]
    
    
        </xref:system.io.filestream.lock%2a></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Flush_System_Boolean_">
    
            <a id="System_IO_FileStream_Flush_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Flush(Boolean)</div>        
          </div>
    
            <p>Clears buffers for this stream and causes any buffered data to be written to the file, and also clears all intermediate file buffers.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public virtual void Flush (bool flushToDisk);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>flushToDisk</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </dd>
                  </dl>
                  <p><code>true</code> to flush all intermediate file buffers; otherwise, <code>false</code>.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Use this overload when you want to ensure that all buffered data in intermediate file buffers is written to disk.  </p>
<p> When you call the Flush method, the operating system I/O buffer is also flushed.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_FlushAsync_System_Threading_CancellationToken_">
    
            <a id="System_IO_FileStream_FlushAsync_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FlushAsync(CancellationToken)</div>        
          </div>
    
            <p>Asynchronously clears all buffers for this stream, causes any buffered data to be written to the underlying device, and monitors cancellation requests.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override System.Threading.Tasks.Task FlushAsync (System.Threading.CancellationToken cancellationToken);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>cancellationToken</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system.threading/system.threading.cancellationtoken">CancellationToken</a></div>
                  </dd>
                  </dl>
                  <p>The token to monitor for cancellation requests.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system.threading.tasks/system.threading.tasks.task">Task</a></div>
                  </div>
                  <p>A task that represents the asynchronous flush operation.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>When you call the FlushAsync method, the operating system I/O buffer is also flushed.  </p>
<p> If the operation is canceled before it completes, the returned task contains the <a class="xref" href="../system.threading.tasks/system.threading.tasks.taskstatus">TaskStatus</a> value for the <a class="xref" href="../system.threading.tasks/system.threading.tasks.task#System_Threading_Tasks_Task_Status_">Status</a> property. If the handle to the file is disposed, the returned task contains the <a class="xref" href="../system/system.objectdisposedexception">ObjectDisposedException</a> exception in the <a class="xref" href="../system.threading.tasks/system.threading.tasks.task#System_Threading_Tasks_Task_Exception_">Exception</a> property.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_GetAccessControl">
    
            <a id="System_IO_FileStream_GetAccessControl_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">GetAccessControl()</div>        
          </div>
    
            <p>Gets a <a class="xref" href="../system.security.accesscontrol/system.security.accesscontrol.filesecurity">FileSecurity</a> object that encapsulates the access control list (ACL) entries for the file described by the current <a class="xref" href="system.io.filestream">FileStream</a> object.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public System.Security.AccessControl.FileSecurity GetAccessControl ();</code></pre>
    
    
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system.security.accesscontrol/system.security.accesscontrol.filesecurity">FileSecurity</a></div>
                  </div>
                  <p>An object that encapsulates the access control settings for the file described by the current <see cref="T:System.IO.FileStream"> object.<p>
</see>
                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>While the <a class="xref" href="system.io.filestream">FileStream</a> class and GetAccessControl can be used to retrieve the access control list (ACL) entries of an existing file, consider using <a class="xref" href="system.io.file#System_IO_File_GetAccessControl_">GetAccessControl</a> method, as it is easier to use.  </p>
<p> Use the GetAccessControl method to retrieve the ACL entries for a file.  </p>
<p> An ACL describes individuals and/or groups who have, or do not have, rights to specific actions on the given file. For more information, see <a href="../Topic/How%20to:%20Add%20or%20Remove%20Access%20Control%20List%20Entries.md">How to: Add or Remove Access Control List Entries</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Lock_System_Int64_System_Int64_">
    
            <a id="System_IO_FileStream_Lock_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Lock(Int64,Int64)</div>        
          </div>
    
            <p>Prevents other processes from reading from or writing to the <see cref="T:System.IO.FileStream">.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public virtual void Lock (long position, long length);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>position</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </dd>
                  </dl>
                  <p>The beginning of the range to lock. The value of this parameter must be equal to or greater than zero (0).</p>

                </li>
                <li>
                  <dl>
                  <dt>length</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </dd>
                  </dl>
                  <p>The range to be locked.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Locking a range of a file stream gives the threads of the locking process exclusive access to that range of the file stream.  </p>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following code example demonstrates how to lock part of a file so another process cannot access that part of the file even though it has read/write access to the file. Run the program simultaneously in different command windows and investigate using the different console input options.  
  
 [!CODE [System.IO.FileStream3#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream3#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Read_System_Byte___System_Int32_System_Int32_">
    
            <a id="System_IO_FileStream_Read_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Read(Byte[],Int32,Int32)</div>        
          </div>
    
            <p>Reads a block of bytes from the stream and writes the data in a given buffer.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override int Read (byte[] array, int offset, int count);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>array</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>When this method returns, contains the specified byte array with the values between  and ( +  - 1 replaced by the bytes read from the current source.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The byte offset in  at which the read bytes will be placed.</p>

                </li>
                <li>
                  <dl>
                  <dt>count</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The maximum number of bytes to read.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </div>
                  <p>The total number of bytes read into the buffer. This might be less than the number of bytes requested if that number of bytes are not currently available, or zero if the end of the stream is reached.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>This method overrides <a class="xref" href="system.io.stream#System_IO_Stream_Read_">Read</a>.  </p>
<p> The  parameter gives the offset of the byte in  (the buffer index) at which to begin reading, and the  parameter gives the maximum number of bytes to be read from this stream. The returned value is the actual number of bytes read, or zero if the end of the stream is reached. If the read operation is successful, the current position of the stream is advanced by the number of bytes read. If an exception occurs, the current position of the stream is unchanged.  </p>
<p> The Read method returns zero only after reaching the end of the stream. Otherwise, Read always reads at least one byte from the stream before returning. If no data is available from the stream upon a call to Read, the method will block until at least one byte of data can be returned. An implementation is free to return fewer bytes than requested even if the end of the stream has not been reached.  </p>
<p> Use <a class="xref" href="system.io.binaryreader">BinaryReader</a> for reading primitive data types.  </p>
<p> Do not interrupt a thread that is performing a read operation. Although the application may appear to run successfully after the thread is unblocked, the interruption can decrease your application&#39;s performance and reliability.  </p>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example reads the contents from a <xref:system.io.filestream> and writes it into another <xref:system.io.filestream>.  
  
 [!CODE [FSRead#1](../CodeSnippet/VS_Snippets_CLR/FSRead#1)]
    
    
        </xref:system.io.filestream></xref:system.io.filestream></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_ReadAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_">
    
            <a id="System_IO_FileStream_ReadAsync_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">ReadAsync(Byte[],Int32,Int32,CancellationToken)</div>        
          </div>
    
            <p>Asynchronously reads a sequence of bytes from the current stream, advances the position within the stream by the number of bytes read, and monitors cancellation requests.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override System.Threading.Tasks.Task&lt;int&gt; ReadAsync (byte[] buffer, int offset, int count, System.Threading.CancellationToken cancellationToken);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>buffer</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The buffer to write the data into.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The byte offset in  at which to begin writing data from the stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>count</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The maximum number of bytes to read.</p>

                </li>
                <li>
                  <dl>
                  <dt>cancellationToken</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system.threading/system.threading.cancellationtoken">CancellationToken</a></div>
                  </dd>
                  </dl>
                  <p>The token to monitor for cancellation requests.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system.threading.tasks/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="../system/system.int32">Int32</a>&gt;</div>
                  </div>
                  <p>A task that represents the asynchronous read operation. The value of the  parameter contains the total number of bytes read into the buffer. The result value can be less than the number of bytes requested if the number of bytes currently available is less than the requested number, or it can be 0 (zero) if the end of the stream has been reached.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The ReadAsync method enables you to perform resource-intensive file operations without blocking the main thread. This performance consideration is particularly important in a <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/win8-appname-long-md.md&quot; -->Windows 8.x Store<!--END INCLUDE --> app or <!-- BEGIN ERROR INCLUDE: Unable to resolve [!INCLUDE[desktop_appname](../Token/desktop_appname_md.md)]:Couldn&#39;t find file Token/desktop_appname_md.md. -->[!INCLUDE[desktop_appname](../Token/desktop_appname_md.md)]<!--END ERROR INCLUDE --> app where a time-consuming stream operation can block the UI thread and make your app appear as if it is not working. The async methods are used in conjunction with the <code>async</code> and <code>await</code> keywords in Visual Basic and C#.  </p>
<p> Use the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> property to determine whether the current instance supports reading.  </p>
<p> If the operation is canceled before it completes, the returned task contains the <a class="xref" href="../system.threading.tasks/system.threading.tasks.taskstatus">TaskStatus</a> value for the <a class="xref" href="../system.threading.tasks/system.threading.tasks.task#System_Threading_Tasks_Task_Status_">Status</a> property. If the handle to the file is disposed, the returned task contains the <a class="xref" href="../system/system.objectdisposedexception">ObjectDisposedException</a> exception in the <a class="xref" href="../system.threading.tasks/system.threading.tasks.task#System_Threading_Tasks_Task_Exception_">Exception</a> property.</p>

    
            <h4>Example</h4>
            The following example shows how to read from a file asynchronously.  
  
 [!CODE [Asynchronous_File_IO_async#4](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#4)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_ReadByte">
    
            <a id="System_IO_FileStream_ReadByte_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">ReadByte()</div>        
          </div>
    
            <p>Reads a byte from the file and advances the read position one byte.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override int ReadByte ();</code></pre>
    
    
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </div>
                  <p>The byte, cast to an <a class="xref" href="../system/system.int32">Int32</a>, or -1 if the end of the stream has been reached.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>This method overrides <a class="xref" href="system.io.stream#System_IO_Stream_ReadByte_">ReadByte</a>.  </p>
<div class="NOTE"><h5>Note</h5><p> Use the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanRead_">CanRead</a> property to determine whether the current instance supports reading. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanRead_">CanRead</a>.</p>
</div>

    
            <h4>Example</h4>
            The following code example shows how to write data to a file, byte by byte, and then verify that the data was written correctly.  
  
 [!CODE [System.IO.FileStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream1#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Seek_System_Int64_System_IO_SeekOrigin_">
    
            <a id="System_IO_FileStream_Seek_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Seek(Int64,SeekOrigin)</div>        
          </div>
    
            <p>Sets the current position of this stream to the given value.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override long Seek (long offset, System.IO.SeekOrigin origin);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </dd>
                  </dl>
                  <p>The point relative to  from which to begin seeking.</p>

                </li>
                <li>
                  <dl>
                  <dt>origin</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.seekorigin">SeekOrigin</a></div>
                  </dd>
                  </dl>
                  <p>Specifies the beginning, the end, or the current position as a reference point for , using a value of type <see cref="T:System.IO.SeekOrigin">.<p>
</see>
                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </div>
                  <p>The new position in the stream.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>This method overrides <a class="xref" href="system.io.stream#System_IO_Stream_Seek_">Seek</a>.  </p>
<div class="NOTE"><h5>Note</h5><p> Use the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property to determine whether the current instance supports seeking. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a>.  </p>
</div>
<p> You can seek to any location beyond the length of the stream. When you seek beyond the length of the file, the file size grows. In Windows NT and later versions, data added to the end of the file is set to zero. In Windows 98 or earlier versions, data added to the end of the file is not set to zero, which means that previously deleted data is visible to the stream.  </p>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example shows how to write data to a file, byte by byte, and then verify that the data was written correctly.  
  
 [!CODE [System.IO.FileStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream1#1)]  
  
 The following example reads text in the reverse direction, from the end of file to the beginning of the file, by using the various <xref:system.io.seekorigin> values with the Seek method.  
  
 [!CODE [System.IO.FileStream.Seek#1](../CodeSnippet/VS_Snippets_CLR_System/system.io.filestream.seek#1)]
    
    
        </xref:system.io.seekorigin></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_SetAccessControl_System_Security_AccessControl_FileSecurity_">
    
            <a id="System_IO_FileStream_SetAccessControl_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">SetAccessControl(FileSecurity)</div>        
          </div>
    
            <p>Applies access control list (ACL) entries described by a <a class="xref" href="../system.security.accesscontrol/system.security.accesscontrol.filesecurity">FileSecurity</a> object to the file described by the current <a class="xref" href="system.io.filestream">FileStream</a> object.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void SetAccessControl (System.Security.AccessControl.FileSecurity fileSecurity);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>fileSecurity</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system.security.accesscontrol/system.security.accesscontrol.filesecurity">FileSecurity</a></div>
                  </dd>
                  </dl>
                  <p>An object that describes an ACL entry to apply to the current file.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>While the <a class="xref" href="system.io.filestream">FileStream</a> class and SetAccessControl can be used on an existing file, consider using the <a class="xref" href="system.io.file#System_IO_File_SetAccessControl_">SetAccessControl</a> method as it is easier to use.  </p>
<p> The SetAccessControl method applies access control list (ACL) entries to a file that represents the noninherited ACL list.  </p>
<div class="CAUTION"><h5>Caution</h5><p> The ACL specified for the  parameter replaces the existing ACL for the file. To add permissions for a new user, use the <a class="xref" href="system.io.filestream#System_IO_FileStream_GetAccessControl_">GetAccessControl</a> method to obtain the existing ACL, modify it, and then use SetAccessControl to apply it back to the file.  </p>
</div>
<p> An ACL describes individuals and/or groups who have, or do not have, rights to specific actions on the given file. For more information, see <a href="../Topic/How%20to:%20Add%20or%20Remove%20Access%20Control%20List%20Entries.md">How to: Add or Remove Access Control List Entries</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_SetLength_System_Int64_">
    
            <a id="System_IO_FileStream_SetLength_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">SetLength(Int64)</div>        
          </div>
    
            <p>Sets the length of this stream to the given value.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override void SetLength (long value);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>value</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </dd>
                  </dl>
                  <p>The new length of the stream.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>This method overrides <a class="xref" href="system.io.stream#System_IO_Stream_SetLength_">SetLength</a>.  </p>
<p> If the given value is less than the current length of the stream, the stream is truncated. In this scenario, if the current position is greater than the new length, the current position is moved to the last byte of the stream. If the given value is larger than the current length of the stream, the stream is expanded, and the current position remains the same. If the stream is expanded, the contents of the stream between the old and the new length are undefined.  </p>
<p> A stream must support both writing and seeking for <code>SetLength</code> to work.  </p>
<div class="NOTE"><h5>Note</h5><p> Use the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> property to determine whether the current instance supports writing, and the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanSeek_">CanSeek</a> property to determine whether seeking is supported. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanWrite_">CanWrite</a> and <a class="xref" href="system.io.stream#System_IO_Stream_CanSeek_">CanSeek</a>.  </p>
</div>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following example demonstrates some of the FileStream constructors.  
  
 [!CODE [fstream class#1](../CodeSnippet/VS_Snippets_CLR/FStream Class#1)]  
  
 The following example shows how to write to a file asynchronously. This code runs in a WPF app that has a TextBlock named UserInput and a button hooked up to a Click event handler that is named Button_Click. The file path needs to be changed to a file than exits on the computer.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Unlock_System_Int64_System_Int64_">
    
            <a id="System_IO_FileStream_Unlock_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Unlock(Int64,Int64)</div>        
          </div>
    
            <p>Allows access by other processes to all or part of a file that was previously locked.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public virtual void Unlock (long position, long length);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>position</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </dd>
                  </dl>
                  <p>The beginning of the range to unlock.</p>

                </li>
                <li>
                  <dl>
                  <dt>length</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </dd>
                  </dl>
                  <p>The range to be unlocked.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            The following code example demonstrates how to lock part of a file so another process cannot access that part of the file even though it has read/write access to the file, and then unlock the specified part of the file . Run the program simultaneously in different command windows and investigate using the different console input options.  
  
 [!CODE [System.IO.FileStream3#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream3#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_Write_System_Byte___System_Int32_System_Int32_">
    
            <a id="System_IO_FileStream_Write_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Write(Byte[],Int32,Int32)</div>        
          </div>
    
            <p>Writes a block of bytes to the file stream.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override void Write (byte[] array, int offset, int count);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>array</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The buffer containing data to write to the stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The zero-based byte offset in  from which to begin copying bytes to the stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>count</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The maximum number of bytes to write.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>This method overrides <a class="xref" href="system.io.stream#System_IO_Stream_Write_">Write</a>.  </p>
<p> The  parameter gives the offset of the byte in  (the buffer index) at which to begin copying, and the  parameter gives the number of bytes that will be written to the stream. If the write operation is successful, the current position of the stream is advanced by the number of bytes written. If an exception occurs, the current position of the stream is unchanged.  </p>
<div class="NOTE"><h5>Note</h5><p> Use the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> property to determine whether the current instance supports writing. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanWrite_">CanWrite</a>.  </p>
</div>
<p> Do not interrupt a thread that is performing a write operation. Although the application may appear to run successfully after the thread is unblocked, the interruption can decrease your application&#39;s performance and reliability.  </p>
<p> For a list of common file and directory operations, see <a href="../topic/common%20i-o%20tasks">Common I/O Tasks</a>.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.filestream.lock%2a> method.  
  
 [!CODE [System.IO.FileStream3#3](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream3#3)]
    
    
        </xref:system.io.filestream.lock%2a></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_WriteAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_">
    
            <a id="System_IO_FileStream_WriteAsync_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">WriteAsync(Byte[],Int32,Int32,CancellationToken)</div>        
          </div>
    
            <p>Asynchronously writes a sequence of bytes to the current stream, advances the current position within this stream by the number of bytes written, and monitors cancellation requests.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override System.Threading.Tasks.Task WriteAsync (byte[] buffer, int offset, int count, System.Threading.CancellationToken cancellationToken);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>buffer</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The buffer to write data from.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The zero-based byte offset in  from which to begin copying bytes to the stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>count</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The maximum number of bytes to write.</p>

                </li>
                <li>
                  <dl>
                  <dt>cancellationToken</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system.threading/system.threading.cancellationtoken">CancellationToken</a></div>
                  </dd>
                  </dl>
                  <p>The token to monitor for cancellation requests.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system.threading.tasks/system.threading.tasks.task">Task</a></div>
                  </div>
                  <p>A task that represents the asynchronous write operation.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The WriteAsync method enables you to perform resource-intensive file operations without blocking the main thread. This performance consideration is particularly important in a <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/win8-appname-long-md.md&quot; -->Windows 8.x Store<!--END INCLUDE --> app or <!-- BEGIN ERROR INCLUDE: Unable to resolve [!INCLUDE[desktop_appname](../Token/desktop_appname_md.md)]:Couldn&#39;t find file Token/desktop_appname_md.md. -->[!INCLUDE[desktop_appname](../Token/desktop_appname_md.md)]<!--END ERROR INCLUDE --> app where a time-consuming stream operation can block the UI thread and make your app appear as if it is not working. The async methods are used in conjunction with the <code>async</code> and <code>await</code> keywords in Visual Basic and C#.  </p>
<p> Use the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> property to determine whether the current instance supports reading.  </p>
<p> If the operation is canceled before it completes, the returned task contains the <a class="xref" href="../system.threading.tasks/system.threading.tasks.taskstatus">TaskStatus</a> value for the <a class="xref" href="../system.threading.tasks/system.threading.tasks.task#System_Threading_Tasks_Task_Status_">Status</a> property. If the handle to the file is disposed, the returned task contains the <a class="xref" href="../system/system.objectdisposedexception">ObjectDisposedException</a> exception in the <a class="xref" href="../system.threading.tasks/system.threading.tasks.task#System_Threading_Tasks_Task_Exception_">Exception</a> property.</p>

    
            <h4>Example</h4>
            The following example shows how to write asynchronously to a file.  
  
 [!CODE [Asynchronous_File_IO_async#3](../CodeSnippet/VS_Snippets_CLR/Asynchronous_File_IO_async#3)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_FileStream_WriteByte_System_Byte_">
    
            <a id="System_IO_FileStream_WriteByte_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">WriteByte(Byte)</div>        
          </div>
    
            <p>Writes a byte to the current position in the file stream.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override void WriteByte (byte value);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>value</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a></div>
                  </dd>
                  </dl>
                  <p>A byte to write to the stream.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>This method overrides <a class="xref" href="system.io.stream#System_IO_Stream_WriteByte_">WriteByte</a>.  </p>
<p> Use <code>WriteByte</code> to write a byte to a <code>FileStream</code> efficiently. If the stream is closed or not writable, an exception will be thrown.  </p>
<div class="NOTE"><h5>Note</h5><p> Use the <a class="xref" href="system.io.filestream#System_IO_FileStream_CanWrite_">CanWrite</a> property to determine whether the current instance supports writing. For additional information, see <a class="xref" href="system.io.stream#System_IO_Stream_CanWrite_">CanWrite</a>.</p>
</div>

    
            <h4>Example</h4>
            The following code example shows how to write data to a file, byte by byte, and then verify that the data was written correctly.  
  
 [!CODE [System.IO.FileStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.FileStream1#1)]
    
    
        </li>
      </ul>
    </section>
    
    
    
    
    
    
    
    
    
    

          
        </div>

		  </div>

      <div id="openFeedbackContainer" class="openfeedback-container footer-layout"></div>
      
    </main>

    <div id="footerPlaceholder"></div>

    
		<script src="../_themes/javascript/1799cb50375cce4bc4c6.reference.js"></script>
  </body>
</html>
