<!DOCTYPE html>



  


  


  

<html class="no-js reference" lang="en-us" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="BufferedStream class">
    <meta name="breadcrumb_path" content="/halfdotnet/toc.json">
<meta name="search.ms_sitename" content="Docs">
<meta name="search.ms_docsetname" content="halfdotnet">
<meta name="version" content="0">
<meta name="locale" content="en-us">
<meta name="site_name" content="Docs">
<meta name="search.ms_product" content="MSDN">
<meta name="depot_name" content="MSDN.halfdotnet">
<meta name="ref_skeleton_gitcommit" content="https://github.com/TianqiZhang/ECMA2YamlTestRepo/blob/c463338a38ee0cf171b48332bb4325e618b23055/halfdotnet/System.IO/System.IO.BufferedStream.yml">
<meta name="original_ref_skeleton_git_url" content="https://github.com/TianqiZhang/ECMA2YamlTestRepo/blob/migration/halfdotnet/System.IO/System.IO.BufferedStream.yml">
<meta name="APIName" content="System.IO.BufferedStream">
<meta name="APIName" content="System.IO.BufferedStream..ctor">
<meta name="APIName" content="System.IO.BufferedStream.BeginRead">
<meta name="APIName" content="System.IO.BufferedStream.BeginWrite">
<meta name="APIName" content="System.IO.BufferedStream.CanRead">
<meta name="APIName" content="System.IO.BufferedStream.CanSeek">
<meta name="APIName" content="System.IO.BufferedStream.CanWrite">
<meta name="APIName" content="System.IO.BufferedStream.Dispose">
<meta name="APIName" content="System.IO.BufferedStream.EndRead">
<meta name="APIName" content="System.IO.BufferedStream.EndWrite">
<meta name="APIName" content="System.IO.BufferedStream.Flush">
<meta name="APIName" content="System.IO.BufferedStream.FlushAsync">
<meta name="APIName" content="System.IO.BufferedStream.Length">
<meta name="APIName" content="System.IO.BufferedStream.Position">
<meta name="APIName" content="System.IO.BufferedStream.Read">
<meta name="APIName" content="System.IO.BufferedStream.ReadAsync">
<meta name="APIName" content="System.IO.BufferedStream.ReadByte">
<meta name="APIName" content="System.IO.BufferedStream.Seek">
<meta name="APIName" content="System.IO.BufferedStream.SetLength">
<meta name="APIName" content="System.IO.BufferedStream.Write">
<meta name="APIName" content="System.IO.BufferedStream.WriteAsync">
<meta name="APIName" content="System.IO.BufferedStream.WriteByte">
<meta name="APILocation" content="mscorlib.dll">
<meta name="TopicType" content="apiref">
<meta name="APIType" content="Assembly">
<meta name="updated_at" content="2017-02-16 06:36 AM">
<meta name="document_id" content="2a3838dc-04c3-f0c7-230b-d2fe3f7c59a0">
<meta name="pagetype" content="Reference">
<meta name="description" content="Adds a buffering layer to read and write operations on another stream. This class cannot be inherited.
">
<meta name="toc_rel" content="../toc1.json">
<meta name="platforms" content="net-11">
<meta name="platforms" content="net-20">
<meta name="platforms" content="netcore-10">
<meta name="source_url" content="">
<meta name="ms.assetid" content="System.IO.BufferedStream">

    
    
      
    
    <link href="https://ppe.docs.microsoft.com/en-us/mergedepot/system.io/system.io.bufferedstream" rel="canonical">
    <title>BufferedStream class | Microsoft Docs</title>
    <link rel="stylesheet" href="../_themes/css/1799cb50375cce4bc4c6.reference.css ">
    <script>
	var msDocs = {
		data:{
			contentLocale: 'en-us'
		},
		functions:{},
		settings:{
			extendBreadcrumb: true
		}
	};
	</script>

<script>
	msDocs.data.pathToTheme = '../_themes/';
	msDocs.data.brand = '';
</script>


<!--[if lt IE 9]>
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.4.min.js"></script>
	<script src="../_themes/global/js/polyfills/all.js"></script>
<![endif]-->
<!--[if gte IE 9]><!-->
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.min.js"></script>
<!--<![endif]-->
<script>window.jQuery || document.write('<script src="../_themes/global/js/jquery/jquery-1.12.4.min.js"><\/script>')</script>

<script src="https://assets.onestore.ms/cdnfiles/external/uhf/long/6cd17f63f634a900b40eb670c61866e8e1385b9f/js/uhf-main.var.min.js" async="" defer=""></script>
<script src="https://mem.gfx.ms/meversion?partner=msdocs&market=en-us" async="" defer=""></script>

  <script src="../_themes/global/js/global.min.js?v=31"></script>

  </head>
  <body>



<header id="header" ms.pgarea="header">
    <div id="uhfPlaceHolder" class="c-me"></div>

    
    <div id="msdn-redirection-notification" class="shell-notification" style="display:none;" ms.cmpgrp="notifications">
        <div class="shell-notification-grid-row shell-notification-clearfix">
            <span id="msdn.redirection.text" class="notification-txt">You were redirected to this page from MSDN.  We are in the process of migrating all technical content to docs.microsoft.com.</span>
            <span class="notification-action">
            <a id="redirect-notification-close" tabindex="1">
                <i class="shell-icon-close"></i>
            </a>
            </span>
        </div>        
    </div>

    <div id="sub-header" class="container" ms.cmpgrp="breadcrumb" role="navigation" aria-label="breadcrumb">    
        <div id="sub-header-content">
            <div class="content">
                <ul class="breadcrumbs"></ul>
            </div>
        </div>
    </div>


    <div class="pageActionsHolder">
        <div id="page-actions" role="complementary">
            <div id="page-actions-content">
                <ul class="action-list" ms.cmpgrp="pageactions">
                    
                    
                                                
                            <li id="contenteditbtn">
                                <a href="" title="Edit This Document" ms.cmpnm="edit">
                                    <i class="icon icon-editor"></i>Edit
                                </a>
                            </li>
                        
                    
					
						
					
                    <li>
                        <a href="#" class="sharebutton" title="Share This Document" ms.cmpnm="share"><i class="icon icon-share"></i>Share</a>
                        <div class="share-container">
                            
                                <div><a href="" class="share-twitter" ms.cmpnm="twitter"><i class="icon icon-twitter"></i>Twitter</a></div>
                                <div><a href="" class="share-facebook" ms.cmpnm="facebook"><i class="icon icon-facebook"></i>Facebook</a></div>
                            
                            
                            
                        </div>
                    </li>
                    <li class="typeSep">|</li>
                    
                        <li>
                            <label for="platform-selector">Platform</label>									
                            <select name="platform-selector" id="platform-selector">
                                
                                <option value="platform-net-11">net-11
                                
                                <option value="platform-net-20">net-20
                                
                                <option value="platform-netcore-10">netcore-10
                                
                            </select>
                        </li>
                    
                    
                    <li>
                        <label for="theme-selector">Theme</label>
                        <select id="theme-selector">
                            <option value="" class="removedOnload">
                            <option value="">Light
                            <option value="theme_night">Dark
                        </select>
                    </li>
                </ul>

                <nav id="side-doc-outline" class="doc-outline" ms.cmpgrp="intopic toc" role="navigation" aria-label="On page navigation">
                    <h3>In this article</h3>
                </nav>
            
            </div>
        </div>        
    </div>




</header>

    <main>
		  <div class="container" ms.pgarea="body">        

        <div id="sidebar" ms.cmpgrp="left toc" role="navigation" aria-label="main navigation">
          <div id="sidebarContent">
            <div class="filterHolder"></div>
            <nav class="toc"></nav>          
            <div class="pdfDownloadHolder"></div>
          </div>
          <div class="tocSpace"></div>
        </div>

        <div id="menu-nav" class="dropdown-container">
          <div class="dropdown dropdown-full mobilenavi">
            <select>
            </select>
          </div>
        </div>
		
        <div id="main" role="main" ms.pgarea="content">
          <div id="langDisclaimer" class="disclaimer" style="display:none;"><span class="icon icon-disclaimer"></span><span class="disclaimertext">This content is not available in your language but here is the English version.</span></div>
                    
              
    <h1 id="System_IO_BufferedStream">
      <span class="lang-csharp">BufferedStream</span>
        Class
    </h1>
    
    
    <nav id="center-doc-outline" class="doc-outline" ms.cmpgrp="intopic toc" role="navigation" aria-label="On page navigation">
      <h3>In this Article</h3>
    </nav><div class="summary">
    	<p>Adds a buffering layer to read and write operations on another stream. This class cannot be inherited.</p>

    </div><h2>Syntax</h2>
    
    	<h3>Declaration</h3>
    	<pre class="memberDeclaration"><code class="csharp lang-csharp">[System.Runtime.InteropServices.ComVisible(true)]
public sealed class BufferedStream : System.IO.Stream</code></pre>
    
    
    
    <h3>Inheritance Hierarchy</h3>
    <ul class="inheritance">
        <li class="l0">
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object">Object</a>
          </div>
        </li>
        <li class="l1">
          <div class="lang-csharp">
            <a class="xref" href="../system/system.marshalbyrefobject">MarshalByRefObject</a>
          </div>
        </li>
        <li class="l2">
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream">System.IO.Stream</a>
          </div>
        </li>
      <li class="l3">
        <div class="xref">
          <div class="lang-csharp">BufferedStream</div>
        </div>
      </li>
    </ul>
    
      <div class="referencebox inheritedMembers">
        <h3>Inherited Members</h3>
        <h4></h4>
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CanTimeout">CanTimeout</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_Close">Close()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CopyTo_System_IO_Stream_">CopyTo(Stream)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CopyTo_System_IO_Stream_System_Int32_">CopyTo(Stream,Int32)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_System_IO_Stream_">CopyToAsync(Stream)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_System_IO_Stream_System_Int32_">CopyToAsync(Stream,Int32)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CopyToAsync_System_IO_Stream_System_Int32_System_Threading_CancellationToken_">CopyToAsync(Stream,Int32,CancellationToken)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_CreateWaitHandle">CreateWaitHandle()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_Dispose">Dispose()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_FlushAsync">FlushAsync()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_Null">Null</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_ObjectInvariant">ObjectInvariant()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_ReadAsync_System_Byte___System_Int32_System_Int32_">ReadAsync(Byte[],Int32,Int32)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_ReadTimeout">ReadTimeout</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_Synchronized_System_IO_Stream_">Synchronized(Stream)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_WriteAsync_System_Byte___System_Int32_System_Int32_">WriteAsync(Byte[],Int32,Int32)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="system.io.stream#System_IO_Stream_WriteTimeout">WriteTimeout</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.marshalbyrefobject#System_MarshalByRefObject_CreateObjRef_System_Type_">CreateObjRef(Type)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.marshalbyrefobject#System_MarshalByRefObject_GetLifetimeService">GetLifetimeService()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.marshalbyrefobject#System_MarshalByRefObject_InitializeLifetimeService">InitializeLifetimeService()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.marshalbyrefobject#System_MarshalByRefObject_MemberwiseClone_System_Boolean_">MemberwiseClone(Boolean)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_Equals_System_Object_">Equals(Object)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_Equals_System_Object_System_Object_">Equals(Object,Object)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_GetHashCode">GetHashCode()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_GetType">GetType()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_MemberwiseClone">MemberwiseClone()</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_ReferenceEquals_System_Object_System_Object_">ReferenceEquals(Object,Object)</a>
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="../system/system.object#System_Object_ToString">ToString()</a>
          </div>
          
      </div>
    
    
      <h2>Remarks</h2>
      <p>A buffer is a block of bytes in memory used to cache data, thereby reducing the number of calls to the operating system. Buffers improve read and write performance. A buffer can be used for either reading or writing, but never both simultaneously. The <a href="assetId:///M:System.IO.BufferedStream.Read(System.Byte[],System.Int32,System.Int32)?qualifyHint=False&amp;autoUpgrade=True">Read(Byte[],â€‚Int32,â€‚Int32)</a> and <a href="assetId:///M:System.IO.BufferedStream.Write(System.Byte[],System.Int32,System.Int32)?qualifyHint=False&amp;autoUpgrade=True">Write(Byte[],â€‚Int32,â€‚Int32)</a> methods of <code>BufferedStream</code> automatically maintain the buffer.  </p>
<div class="IMPORTANT"><h5>Important</h5><p> This type implements the <a class="xref" href="../system/system.idisposable">IDisposable</a> interface. When you have finished using the type, you should dispose of it either directly or indirectly. To dispose of the type directly, call its <a class="xref" href="../system/system.idisposable#System_IDisposable_Dispose_">Dispose</a> method in a <code>try</code>/<code>catch</code> block. To dispose of it indirectly, use a language construct such as <code>using</code> (in C#) or <code>Using</code> (in Visual Basic). For more information, see the â€œUsing an Object that Implements IDisposableâ€ section in the <a class="xref" href="../system/system.idisposable">IDisposable</a> interface topic.  </p>
</div>
<p> <code>BufferedStream</code> can be composed around certain types of streams. It provides implementations for reading and writing bytes to an underlying data source or repository. Use <a class="xref" href="system.io.binaryreader">BinaryReader</a> and <a class="xref" href="system.io.binarywriter">BinaryWriter</a> for reading and writing other data types. <code>BufferedStream</code> is designed to prevent the buffer from slowing down input and output when the buffer is not needed. If you always read and write for sizes greater than the internal buffer size, then <code>BufferedStream</code> might not even allocate the internal buffer. <code>BufferedStream</code> also buffers reads and writes in a shared buffer. It is assumed that you will almost always be doing a series of reads or writes, but rarely alternate between the two of them.</p>

    
    
    <h2>Constructors
     summary</h2>
    
    <table class="nameValue">
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream__ctor_System_IO_Stream_">BufferedStream(Stream)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.BufferedStream"> class with a default buffer size of 4096 bytes.<p>
</see>
            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream__ctor_System_IO_Stream_System_Int32_">BufferedStream(Stream,Int32)</a></div>
          </td>
            <td>
            <p>Initializes a new instance of the <see cref="T:System.IO.BufferedStream"> class with the specified buffer size.<p>
</see>
            </td>
        </tr>
    </table>
    <h2>Properties
     summary</h2>
    
    <table class="nameValue">
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_CanRead">CanRead</a></div>
          </td>
            <td>
            <p>Gets a value indicating whether the current stream supports reading.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_CanSeek">CanSeek</a></div>
          </td>
            <td>
            <p>Gets a value indicating whether the current stream supports seeking.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_CanWrite">CanWrite</a></div>
          </td>
            <td>
            <p>Gets a value indicating whether the current stream supports writing.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_Length">Length</a></div>
          </td>
            <td>
            <p>Gets the stream length in bytes.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_Position">Position</a></div>
          </td>
            <td>
            <p>Gets the position within the current stream.</p>

            </td>
        </tr>
    </table>
    <h2>Methods
     summary</h2>
    
    <table class="nameValue">
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_BeginRead_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_">BeginRead(Byte[],Int32,Int32,AsyncCallback,Object)</a></div>
          </td>
            <td>
            <p>Begins an asynchronous read operation. (Consider using <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_ReadAsync_">ReadAsync</a> instead; see the Remarks section.)</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_BeginWrite_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_">BeginWrite(Byte[],Int32,Int32,AsyncCallback,Object)</a></div>
          </td>
            <td>
            <p>Begins an asynchronous write operation. (Consider using <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_WriteAsync_">WriteAsync</a> instead; see the Remarks section.)</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td colspan="2">
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_Dispose_System_Boolean_">Dispose(Boolean)</a></div>
          </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_EndRead_System_IAsyncResult_">EndRead(IAsyncResult)</a></div>
          </td>
            <td>
            <p>Waits for the pending asynchronous read operation to complete. (Consider using <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_ReadAsync_">ReadAsync</a> instead; see the Remarks section.)</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_EndWrite_System_IAsyncResult_">EndWrite(IAsyncResult)</a></div>
          </td>
            <td>
            <p>Ends an asynchronous write operation and blocks until the I/O operation is complete. (Consider using <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_WriteAsync_">WriteAsync</a> instead; see the Remarks section.)</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_Flush">Flush()</a></div>
          </td>
            <td>
            <p>Clears all buffers for this stream and causes any buffered data to be written to the underlying device.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_FlushAsync_System_Threading_CancellationToken_">FlushAsync(CancellationToken)</a></div>
          </td>
            <td>
            <p>Asynchronously clears all buffers for this stream, causes any buffered data to be written to the underlying device, and monitors cancellation requests.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_Read_System_Byte___System_Int32_System_Int32_">Read(Byte[],Int32,Int32)</a></div>
          </td>
            <td>
            <p>Copies bytes from the current buffered stream to an array.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_ReadAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_">ReadAsync(Byte[],Int32,Int32,CancellationToken)</a></div>
          </td>
            <td>
            <p>Asynchronously reads a sequence of bytes from the current stream, advances the position within the stream by the number of bytes read, and monitors cancellation requests.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_ReadByte">ReadByte()</a></div>
          </td>
            <td>
            <p>Reads a byte from the underlying stream and returns the byte cast to an <code>int</code>, or returns -1 if reading from the end of the stream.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_Seek_System_Int64_System_IO_SeekOrigin_">Seek(Int64,SeekOrigin)</a></div>
          </td>
            <td>
            <p>Sets the position within the current buffered stream.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_SetLength_System_Int64_">SetLength(Int64)</a></div>
          </td>
            <td>
            <p>Sets the length of the buffered stream.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_Write_System_Byte___System_Int32_System_Int32_">Write(Byte[],Int32,Int32)</a></div>
          </td>
            <td>
            <p>Copies bytes to the buffered stream and advances the current position within the buffered stream by the number of bytes written.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_WriteAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_">WriteAsync(Byte[],Int32,Int32,CancellationToken)</a></div>
          </td>
            <td>
            <p>Asynchronously writes a sequence of bytes to the current stream, advances the current position within this stream by the number of bytes written, and monitors cancellation requests.</p>

            </td>
        </tr>
        <tr class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#System_IO_BufferedStream_WriteByte_System_Byte_">WriteByte(Byte)</a></div>
          </td>
            <td>
            <p>Writes a byte to the current position in the buffered stream.</p>

            </td>
        </tr>
    </table>
    <section class="memberGroup">
      <header class="header platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="constructors">
        <h2>Constructors
    </h2>
      </header>
    
      <ul class="list-clean platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
    
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream__ctor_System_IO_Stream_">
    
            <a id="System_IO_BufferedStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">BufferedStream(Stream)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.BufferedStream"> class with a default buffer size of 4096 bytes.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public BufferedStream (System.IO.Stream stream);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>stream</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.stream">System.IO.Stream</a></div>
                  </dd>
                  </dl>
                  <p>The current stream.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>A shared read/write buffer is allocated the first time a <code>BufferedStream</code> object is initialized with this constructor. The shared buffer is not used if all reads and writes are greater than or equal to .</p>

    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream__ctor_System_IO_Stream_System_Int32_">
    
            <a id="System_IO_BufferedStream__ctor_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">BufferedStream(Stream,Int32)</div>        
          </div>
    
            <p>Initializes a new instance of the <see cref="T:System.IO.BufferedStream"> class with the specified buffer size.<p>
</see>
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public BufferedStream (System.IO.Stream stream, int bufferSize);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>stream</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.stream">System.IO.Stream</a></div>
                  </dd>
                  </dl>
                  <p>The current stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>bufferSize</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The buffer size in bytes.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>A shared read/write buffer is allocated the first time a <code>BufferedStream</code> object is initialized with this constructor. The shared buffer is not used if all reads and writes are greater than or equal to .</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.bufferedstream> class.  
  
 [!CODE [System.IO.BufferedStream1#2](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#2)]
    
    
        </xref:system.io.bufferedstream></li>
      </ul>
    </section><section class="memberGroup">
      <header class="header platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="properties">
        <h2>Properties
    </h2>
      </header>
    
      <ul class="list-clean platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
    
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_CanRead">
    
            <a id="System_IO_BufferedStream_CanRead_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">CanRead</div>        
          </div>
    
            <p>Gets a value indicating whether the current stream supports reading.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override bool CanRead { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </div>
                  <p><code>true</code> if the stream supports reading; <code>false</code> if the stream is closed or was opened with write-only access.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>If a class derived from <a class="xref" href="system.io.stream">Stream</a> does not support reading, calls to the <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_Read_">Read</a>, <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_ReadByte_">ReadByte</a>, <a class="xref" href="system.io.stream#System_IO_Stream_BeginRead_">BeginRead</a>, <a class="xref" href="system.io.stream#System_IO_Stream_EndRead_">EndRead</a>, and the <code>Peek</code> methods of <a class="xref" href="system.io.streamreader">StreamReader</a>, <a class="xref" href="system.io.stringreader">StringReader</a>, and <a class="xref" href="system.io.textreader">TextReader</a> throw a <a class="xref" href="../system/system.notsupportedexception">NotSupportedException</a>.  </p>
<p> If the stream is closed, this property returns <code>false</code>.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.bufferedstream> class.  
  
 [!CODE [System.IO.BufferedStream1#5](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#5)]
    
    
        </xref:system.io.bufferedstream></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_CanSeek">
    
            <a id="System_IO_BufferedStream_CanSeek_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">CanSeek</div>        
          </div>
    
            <p>Gets a value indicating whether the current stream supports seeking.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override bool CanSeek { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </div>
                  <p><code>true</code> if the stream supports seeking; <code>false</code> if the stream is closed or if the stream was constructed from an operating system handle such as a pipe or output to the console.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>If a class derived from <a class="xref" href="system.io.stream">Stream</a> does not support seeking, calls to <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_Length_">Length</a>, <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_SetLength_">SetLength</a>, <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_Position_">Position</a>, and <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_Seek_">Seek</a> throw a <a class="xref" href="../system/system.notsupportedexception">NotSupportedException</a>.  </p>
<p> If the stream is closed, this property returns <code>false</code>.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.bufferedstream> class.  
  
 [!CODE [System.IO.BufferedStream1#3](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#3)]
    
    
        </xref:system.io.bufferedstream></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_CanWrite">
    
            <a id="System_IO_BufferedStream_CanWrite_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">CanWrite</div>        
          </div>
    
            <p>Gets a value indicating whether the current stream supports writing.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override bool CanWrite { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </div>
                  <p><code>true</code> if the stream supports writing; <code>false</code> if the stream is closed or was opened with read-only access.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>If a class derived from <a class="xref" href="system.io.stream">Stream</a> does not support writing, a call to <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_SetLength_">SetLength</a>, <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_Write_">Write</a>, or <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_WriteByte_">WriteByte</a> throws a <a class="xref" href="../system/system.notsupportedexception">NotSupportedException</a>.  </p>
<p> If the stream is closed, this property returns <code>false</code>.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.bufferedstream> class.  
  
 [!CODE [System.IO.BufferedStream1#4](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#4)]
    
    
        </xref:system.io.bufferedstream></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_Length">
    
            <a id="System_IO_BufferedStream_Length_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Length</div>        
          </div>
    
            <p>Gets the stream length in bytes.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override long Length { get; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </div>
                  <p>The stream length in bytes.</p>

                </li>
              </ul>
    
    
          
    
    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_Position">
    
            <a id="System_IO_BufferedStream_Position_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Position</div>        
          </div>
    
            <p>Gets the position within the current stream.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override long Position { get; set; }</code></pre>
    
    
    
    
              <h4>Property Value</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </div>
                  <p>The position within the current stream.</p>

                </li>
              </ul>
    
    
          
    
            <h4>Remarks</h4>
            <p>The <code>get</code> accessor invokes <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_Seek_">Seek</a> to obtain the current position within the underlying stream and then adjusts this value according to the current position within the buffer.  </p>
<p> The <code>set</code> accessor copies any data previously written to the buffer to the underlying stream, and then invokes <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_Seek_">Seek</a>.  </p>
<p> Seeking to any location beyond the length of the stream is supported.</p>

    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
      </ul>
    </section><section class="memberGroup">
      <header class="header platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="methods">
        <h2>Methods
    </h2>
      </header>
    
      <ul class="list-clean platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter">
    
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_BeginRead_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_">
    
            <a id="System_IO_BufferedStream_BeginRead_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">BeginRead(Byte[],Int32,Int32,AsyncCallback,Object)</div>        
          </div>
    
            <p>Begins an asynchronous read operation. (Consider using <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_ReadAsync_">ReadAsync</a> instead; see the Remarks section.)</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override IAsyncResult BeginRead (byte[] buffer, int offset, int count, AsyncCallback callback, object state);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>buffer</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The buffer to read the data into.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The byte offset in  at which to begin writing data read from the stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>count</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The maximum number of bytes to read.</p>

                </li>
                <li>
                  <dl>
                  <dt>callback</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.asynccallback">AsyncCallback</a></div>
                  </dd>
                  </dl>
                  <p>An optional asynchronous callback, to be called when the read is complete.</p>

                </li>
                <li>
                  <dl>
                  <dt>state</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.object">Object</a></div>
                  </dd>
                  </dl>
                  <p>A user-provided object that distinguishes this particular asynchronous read request from other requests.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.iasyncresult">IAsyncResult</a></div>
                  </div>
                  <p>An object that represents the asynchronous read, which could still be pending.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as <a class="xref" href="system.io.stream#System_IO_Stream_BeginRead_">BeginRead</a> and <a class="xref" href="system.io.stream#System_IO_Stream_EndRead_">EndRead</a> to implement asynchronous file operations. These methods are still available in the <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/net-v45-md.md&quot; -->.NET Framework 4.5<!--END INCLUDE --> to support legacy code; however, the new async methods, such as <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_WriteAsync_">WriteAsync</a>, and <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_FlushAsync_">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>
<p> <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_EndWrite_">EndWrite</a> must be called exactly once for every call to BeginRead. Failing to end a read process before beginning another read can cause undesirable behavior such as deadlock.  </p>
<div class="NOTE"><h5>Note</h5><p> Use the <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_CanRead_">CanRead</a> property to determine whether the current instance supports reading.  </p>
</div>
<p> <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_EndRead_">EndRead</a> must be called with this <a class="xref" href="../system/system.iasyncresult">IAsyncResult</a> to find out how many bytes were read.</p>

    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_BeginWrite_System_Byte___System_Int32_System_Int32_System_AsyncCallback_System_Object_">
    
            <a id="System_IO_BufferedStream_BeginWrite_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">BeginWrite(Byte[],Int32,Int32,AsyncCallback,Object)</div>        
          </div>
    
            <p>Begins an asynchronous write operation. (Consider using <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_WriteAsync_">WriteAsync</a> instead; see the Remarks section.)</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override IAsyncResult BeginWrite (byte[] buffer, int offset, int count, AsyncCallback callback, object state);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>buffer</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The buffer containing data to write to the current stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The zero-based byte offset in  at which to begin copying bytes to the current stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>count</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The maximum number of bytes to write.</p>

                </li>
                <li>
                  <dl>
                  <dt>callback</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.asynccallback">AsyncCallback</a></div>
                  </dd>
                  </dl>
                  <p>The method to be called when the asynchronous write operation is completed.</p>

                </li>
                <li>
                  <dl>
                  <dt>state</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.object">Object</a></div>
                  </dd>
                  </dl>
                  <p>A user-provided object that distinguishes this particular asynchronous write request from other requests.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.iasyncresult">IAsyncResult</a></div>
                  </div>
                  <p>An object that references the asynchronous write which could still be pending.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as <a class="xref" href="system.io.stream#System_IO_Stream_BeginWrite_">BeginWrite</a> and <a class="xref" href="system.io.stream#System_IO_Stream_EndWrite_">EndWrite</a> to implement asynchronous file operations. These methods are still available in the <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/net-v45-md.md&quot; -->.NET Framework 4.5<!--END INCLUDE --> to support legacy code; however, the new async methods, such as <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_WriteAsync_">WriteAsync</a>, and <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_FlushAsync_">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>
<p> <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_EndWrite_">EndWrite</a> must be called exactly once on every <a class="xref" href="../system/system.iasyncresult">IAsyncResult</a> from BeginWrite. <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_EndWrite_">EndWrite</a> will block until the I/O operation has completed.</p>

    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_Dispose_System_Boolean_">
    
            <a id="System_IO_BufferedStream_Dispose_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Dispose(Boolean)</div>        
          </div>
    
    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">protected override void Dispose (bool disposing);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>disposing</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.boolean">Boolean</a></div>
                  </dd>
                  </dl>
                  <p>To be added.</p>

                </li>
              </ul>
    
    
    
    
          
    
    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_EndRead_System_IAsyncResult_">
    
            <a id="System_IO_BufferedStream_EndRead_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">EndRead(IAsyncResult)</div>        
          </div>
    
            <p>Waits for the pending asynchronous read operation to complete. (Consider using <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_ReadAsync_">ReadAsync</a> instead; see the Remarks section.)</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override int EndRead (IAsyncResult asyncResult);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>asyncResult</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.iasyncresult">IAsyncResult</a></div>
                  </dd>
                  </dl>
                  <p>The reference to the pending asynchronous request to wait for.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </div>
                  <p>The number of bytes read from the stream, between 0 (zero) and the number of bytes you requested. Streams only return 0 only at the end of the stream, otherwise, they should block until at least 1 byte is available.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as <a class="xref" href="system.io.stream#System_IO_Stream_BeginRead_">BeginRead</a> and <a class="xref" href="system.io.stream#System_IO_Stream_EndRead_">EndRead</a> to implement asynchronous file operations. These methods are still available in the <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/net-v45-md.md&quot; -->.NET Framework 4.5<!--END INCLUDE --> to support legacy code; however, the new async methods, such as <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_WriteAsync_">WriteAsync</a>, and <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_FlushAsync_">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>
<p> EndRead must be called with this <a class="xref" href="../system/system.iasyncresult">IAsyncResult</a> to find out how many bytes were read.</p>

    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_EndWrite_System_IAsyncResult_">
    
            <a id="System_IO_BufferedStream_EndWrite_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">EndWrite(IAsyncResult)</div>        
          </div>
    
            <p>Ends an asynchronous write operation and blocks until the I/O operation is complete. (Consider using <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_WriteAsync_">WriteAsync</a> instead; see the Remarks section.)</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override void EndWrite (IAsyncResult asyncResult);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>asyncResult</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.iasyncresult">IAsyncResult</a></div>
                  </dd>
                  </dl>
                  <p>The pending asynchronous request.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>In the .NET Framework 4 and earlier versions, you have to use methods such as <a class="xref" href="system.io.stream#System_IO_Stream_BeginWrite_">BeginWrite</a> and <a class="xref" href="system.io.stream#System_IO_Stream_EndWrite_">EndWrite</a> to implement asynchronous file operations. These methods are still available in the <!-- BEGIN INCLUDE: Include content from &quot;../add/includes/net-v45-md.md&quot; -->.NET Framework 4.5<!--END INCLUDE --> to support legacy code; however, the new async methods, such as <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_ReadAsync_">ReadAsync</a>, <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_WriteAsync_">WriteAsync</a>, and <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_FlushAsync_">FlushAsync</a>, help you implement asynchronous file operations more easily.  </p>
<p> EndWrite must be called exactly once for every call to <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream_BeginRead_">BeginRead</a>. Failing to end a read process before beginning another read operation can cause deadlock or other undesirable behavior.</p>

    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_Flush">
    
            <a id="System_IO_BufferedStream_Flush_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Flush()</div>        
          </div>
    
            <p>Clears all buffers for this stream and causes any buffered data to be written to the underlying device.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override void Flush ();</code></pre>
    
    
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Flushing the stream will not flush its underlying encoder unless you explicitly call <code>Flush</code> or <a class="xref" href="system.io.stream#System_IO_Stream_Close_">Close</a>.  </p>
<p> If you use the <a class="xref" href="system.io.bufferedstream#System_IO_BufferedStream__ctor_">BufferedStream</a> constructor, thus specifying the buffer size while creating the <code>BufferedStream</code> object, the content is flushed when it reaches the buffer size. For example, code such as <code>BufferedStream bs = new BufferedStream(bs, 5)</code> will flush the content when the buffer size reaches 5 bytes.  </p>
<p> All the read and write methods of <code>BufferedStream</code> automatically maintain the buffer, so there is no need to invoke <code>Flush</code> when switching back and forth between reading and writing.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.bufferedstream> class.  
  
 [!CODE [System.IO.BufferedStream1#6](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#6)]
    
    
        </xref:system.io.bufferedstream></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_FlushAsync_System_Threading_CancellationToken_">
    
            <a id="System_IO_BufferedStream_FlushAsync_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">FlushAsync(CancellationToken)</div>        
          </div>
    
            <p>Asynchronously clears all buffers for this stream, causes any buffered data to be written to the underlying device, and monitors cancellation requests.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override System.Threading.Tasks.Task FlushAsync (System.Threading.CancellationToken cancellationToken);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>cancellationToken</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system.threading/system.threading.cancellationtoken">CancellationToken</a></div>
                  </dd>
                  </dl>
                  <p>The token to monitor for cancellation requests.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system.threading.tasks/system.threading.tasks.task">Task</a></div>
                  </div>
                  <p>A task that represents the asynchronous flush operation.</p>

                </li>
              </ul>
    
    
    
          
    
    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_Read_System_Byte___System_Int32_System_Int32_">
    
            <a id="System_IO_BufferedStream_Read_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Read(Byte[],Int32,Int32)</div>        
          </div>
    
            <p>Copies bytes from the current buffered stream to an array.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override int Read (byte[] array, int offset, int count);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>array</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The buffer to which bytes are to be copied.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The byte offset in the buffer at which to begin reading bytes.</p>

                </li>
                <li>
                  <dl>
                  <dt>count</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The number of bytes to be read.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </div>
                  <p>The total number of bytes read into . This can be less than the number of bytes requested if that many bytes are not currently available, or 0 if the end of the stream has been reached before any data can be read.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The <code>Read</code> method will return 0 only if the end of the stream is reached. In all other cases, <code>Read</code> always reads at least one byte from the stream before returning. By definition, if no data is available from the stream upon a call to <code>Read</code>, the <code>Read</code> method returns 0 (the end of the stream is reached automatically). An implementation is free to return fewer bytes than requested even if the end of the stream has not been reached.  </p>
<p> Use <a class="xref" href="system.io.binaryreader">BinaryReader</a> for reading primitive data types.</p>

    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.bufferedstream> class.  
  
 [!CODE [System.IO.BufferedStream1#7](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#7)]
    
    
        </xref:system.io.bufferedstream></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_ReadAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_">
    
            <a id="System_IO_BufferedStream_ReadAsync_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">ReadAsync(Byte[],Int32,Int32,CancellationToken)</div>        
          </div>
    
            <p>Asynchronously reads a sequence of bytes from the current stream, advances the position within the stream by the number of bytes read, and monitors cancellation requests.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override System.Threading.Tasks.Task&lt;int&gt; ReadAsync (byte[] buffer, int offset, int count, System.Threading.CancellationToken cancellationToken);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>buffer</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The buffer to write the data into.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The byte offset in  at which to begin writing data from the stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>count</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The maximum number of bytes to read.</p>

                </li>
                <li>
                  <dl>
                  <dt>cancellationToken</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system.threading/system.threading.cancellationtoken">CancellationToken</a></div>
                  </dd>
                  </dl>
                  <p>The token to monitor for cancellation requests.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system.threading.tasks/system.threading.tasks.task-1">Task</a>&lt;<a class="xref" href="../system/system.int32">Int32</a>&gt;</div>
                  </div>
                  <p>A task that represents the asynchronous read operation. The value of the  parameter contains the total number of bytes read into the buffer. The result value can be less than the number of bytes requested if the number of bytes currently available is less than the requested number, or it can be 0 (zero) if the end of the stream has been reached.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>You can create a cancellation token by creating an instance of the <a class="xref" href="../system.threading/system.threading.cancellationtokensource">CancellationTokenSource</a> class and passing the <a class="xref" href="../system.threading/system.threading.cancellationtokensource#System_Threading_CancellationTokenSource_Token_">Token</a> property as the  parameter.</p>

    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_ReadByte">
    
            <a id="System_IO_BufferedStream_ReadByte_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">ReadByte()</div>        
          </div>
    
            <p>Reads a byte from the underlying stream and returns the byte cast to an <code>int</code>, or returns -1 if reading from the end of the stream.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override int ReadByte ();</code></pre>
    
    
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </div>
                  <p>The byte cast to an <code>int</code>, or -1 if reading from the end of the stream.</p>

                </li>
              </ul>
    
    
    
          
    
    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_Seek_System_Int64_System_IO_SeekOrigin_">
    
            <a id="System_IO_BufferedStream_Seek_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Seek(Int64,SeekOrigin)</div>        
          </div>
    
            <p>Sets the position within the current buffered stream.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override long Seek (long offset, System.IO.SeekOrigin origin);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </dd>
                  </dl>
                  <p>A byte offset relative to .</p>

                </li>
                <li>
                  <dl>
                  <dt>origin</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="system.io.seekorigin">SeekOrigin</a></div>
                  </dd>
                  </dl>
                  <p>A value of type <see cref="T:System.IO.SeekOrigin"> indicating the reference point from which to obtain the new position.<p>
</see>
                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </div>
                  <p>The new position within the current buffered stream.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>If  is negative, the new position will precede the position specified by  by the number of bytes specified by . If  is 0, the new position will be the position specified by . If  is positive, the new position will follow the position specified by  by the number of bytes specified by .  </p>
<p> When a <a class="xref" href="system.io.bufferedstream">BufferedStream</a> object is the base stream for a <a class="xref" href="system.io.streamreader">StreamReader</a> object, calling the Seek method can cause the position of the stream to no longer match the position of the internal buffer in the reader. To reset the internal buffer, call the <a class="xref" href="system.io.streamreader#System_IO_StreamReader_DiscardBufferedData_">DiscardBufferedData</a> method; however, this method slows performance and should be called only when absolutely necessary.  </p>
<p> Seeking to any location beyond the length of the stream is supported.</p>

    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_SetLength_System_Int64_">
    
            <a id="System_IO_BufferedStream_SetLength_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">SetLength(Int64)</div>        
          </div>
    
            <p>Sets the length of the buffered stream.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override void SetLength (long value);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>value</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int64">Int64</a></div>
                  </dd>
                  </dl>
                  <p>An integer indicating the desired length of the current buffered stream in bytes.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>The buffer is flushed before setting the length of the underlying data source or repository. If the specified value is less than the current length of the buffered stream, the buffered stream is truncated. If the specified value is larger than the current length of the buffered stream, the buffered stream is expanded. If the buffered stream is expanded, the contents of the buffered stream between the old and the new lengths are not defined.  </p>
<p> <code>SetLength</code> flushes any buffered writes if necessary.  </p>
<p> A stream must support both writing and seeking for <code>SetLength</code> to work.</p>

    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_Write_System_Byte___System_Int32_System_Int32_">
    
            <a id="System_IO_BufferedStream_Write_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">Write(Byte[],Int32,Int32)</div>        
          </div>
    
            <p>Copies bytes to the buffered stream and advances the current position within the buffered stream by the number of bytes written.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override void Write (byte[] array, int offset, int count);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>array</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The byte array from which to copy  bytes to the current buffered stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The offset in the buffer at which to begin copying bytes to the current buffered stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>count</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The number of bytes to be written to the current buffered stream.</p>

                </li>
              </ul>
    
    
    
    
          
    
    
            <h4>Example</h4>
            This code example is part of a larger example provided for the <xref:system.io.bufferedstream> class.  
  
 [!CODE [System.IO.BufferedStream1#6](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#6)]
    
    
        </xref:system.io.bufferedstream></li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_WriteAsync_System_Byte___System_Int32_System_Int32_System_Threading_CancellationToken_">
    
            <a id="System_IO_BufferedStream_WriteAsync_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">WriteAsync(Byte[],Int32,Int32,CancellationToken)</div>        
          </div>
    
            <p>Asynchronously writes a sequence of bytes to the current stream, advances the current position within this stream by the number of bytes written, and monitors cancellation requests.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override System.Threading.Tasks.Task WriteAsync (byte[] buffer, int offset, int count, System.Threading.CancellationToken cancellationToken);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>buffer</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a>[]</div>
                  </dd>
                  </dl>
                  <p>The buffer to write data from.</p>

                </li>
                <li>
                  <dl>
                  <dt>offset</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The zero-based byte offset in  from which to begin copying bytes to the stream.</p>

                </li>
                <li>
                  <dl>
                  <dt>count</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.int32">Int32</a></div>
                  </dd>
                  </dl>
                  <p>The maximum number of bytes to write.</p>

                </li>
                <li>
                  <dl>
                  <dt>cancellationToken</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system.threading/system.threading.cancellationtoken">CancellationToken</a></div>
                  </dd>
                  </dl>
                  <p>The token to monitor for cancellation requests.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="../system.threading.tasks/system.threading.tasks.task">Task</a></div>
                  </div>
                  <p>A task that represents the asynchronous write operation.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>You can create a cancellation token by creating an instance of the <a class="xref" href="../system.threading/system.threading.cancellationtokensource">CancellationTokenSource</a> class and passing the <a class="xref" href="../system.threading/system.threading.cancellationtokensource#System_Threading_CancellationTokenSource_Token_">Token</a> property as the  parameter.</p>

    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
        <li class=" platform-net-11 platform-net-20 platform-netcore-10 enable-platform-filter" id="System_IO_BufferedStream_WriteByte_System_Byte_">
    
            <a id="System_IO_BufferedStream_WriteByte_"></a>
    
    
          <div class="memberName">
            <div class="lang-csharp">WriteByte(Byte)</div>        
          </div>
    
            <p>Writes a byte to the current position in the buffered stream.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public override void WriteByte (byte value);</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>value</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="../system/system.byte">Byte</a></div>
                  </dd>
                  </dl>
                  <p>A byte to write to the stream.</p>

                </li>
              </ul>
    
    
    
    
          
    
    
            <h4>Example</h4>
            The following code examples show how to use the `BufferedStream` class over the `NetworkStream` class to increase the performance of certain I/O operations. Start the server on a remote computer before starting the client. Specify the remote computer name as a command-line argument when starting the client. Vary the `dataArraySize` and `streamBufferSize` constants to view their effect on performance.  
  
 The first example shows the code that runs on the client, and the second example shows the code that runs on the server.  
  
 **Example 1: Code that runs on the client**  
  
 [!CODE [System.IO.BufferedStream1#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream1#1)]  
  
 **Example 2: Code that runs on the server**  
  
 [!CODE [System.IO.BufferedStream2#1](../CodeSnippet/VS_Snippets_CLR_System/system.IO.BufferedStream2#1)]
    
    
        </li>
      </ul>
    </section>
    
    
    
    
    
    
    
    
    
    

          
        </div>

		  </div>

      <div id="openFeedbackContainer" class="openfeedback-container footer-layout"></div>
      
    </main>

    <div id="footerPlaceholder"></div>

    
		<script src="../_themes/javascript/1799cb50375cce4bc4c6.reference.js"></script>
  </body>
</html>
