<!DOCTYPE html>



  


  


  

<html class="no-js reference" lang="en-us" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="RecoveryManager class">
    <meta name="ms.devlang" content="csharp">
<meta name="author" content="erickson-doug">
<meta name="ms.author" content="douge">
<meta name="manager" content="douge">
<meta name="breadcrumb_path" content="breadcrumb/toc.json">
<meta name="ms.topic" content="managed-reference">
<meta name="ms.service" content="">
<meta name="ms.date" content="11/16/2016">
<meta name="search.ms_sitename" content="Docs">
<meta name="search.ms_docsetname" content="azuredotnet">
<meta name="version" content="0">
<meta name="locale" content="en-us">
<meta name="site_name" content="Docs">
<meta name="search.ms_product" content="Azure">
<meta name="depot_name" content="Azure.azuredotnet">
<meta name="ref_skeleton_gitcommit" content="https://github.com/Azure/azure-docs-sdk-dotnet/blob/e94ef2bde5332ae6306299662a592890e0d555d2/docs-ref-autogen/elastic-db-tools/Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.yml">
<meta name="original_ref_skeleton_git_url" content="https://github.com/Azure/azure-docs-sdk-dotnet/blob/master/docs-ref-autogen/elastic-db-tools/Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.yml">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.AttachShard">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetachShard">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetMappingDifferences">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardInfo">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardMapType">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardMapName">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.GetShardLocation">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardsFromShardMapManager">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShardMapManagerFromShards">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.RebuildMappingsOnShard">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.DetectMappingDifferences">
<meta name="APIName" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager.ResolveMappingDifferences">
<meta name="APILocation" content="Microsoft.Azure.SqlDatabase.ElasticScale.Client.dll">
<meta name="TopicType" content="apiref">
<meta name="APIType" content="Assembly">
<meta name="updated_at" content="2017-02-13 06:19 AM">
<meta name="document_id" content="0f16c9ae-6654-78d4-48b0-815f3ce89717">
<meta name="pagetype" content="Reference">
<meta name="description" content="Manages various recovery related tasks for a shard map manager. It helps 
resolving data corruption issues between shard map information stored
locally on the shards and in the global shard map managâ€¦">
<meta name="toc_rel" content="toc2.json">
<meta name="source_url" content="https://github.com/Azure/elastic-db-tools/blob/master/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L23">
<meta name="ms.assetid" content="Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager">

    
    
      
      <meta name="brand" content="azure">
    
    <link href="https://ppe.docs.microsoft.com/en-us/newBase/microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager" rel="canonical">
    <title>RecoveryManager class | Microsoft Docs</title>
    <link rel="stylesheet" href="_themes/css/1b0378afbf1c5a46614d.reference.css ">
    <script>
	var msDocs = {
		data:{
			contentLocale: 'en-us'
		},
		functions:{},
		settings:{
			extendBreadcrumb: true
		}
	};
	</script>

<script>
	msDocs.data.pathToTheme = '_themes/';
	msDocs.data.brand = 'azure';
</script>

<link rel="stylesheet" href="_themes/global/css/azureHeader.css?v=4">
<link rel="stylesheet" href="https://azure.microsoft.com/en-us/asset/menucss/">

<!--[if lt IE 9]>
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.4.min.js"></script>
	<script src="_themes/global/js/polyfills/all.js"></script>
	<script src="_themes/global/js/azureHeader/respond_and_ie8Setup_combine.js"></script>
<![endif]-->
<!--[if gte IE 9]><!-->
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.min.js"></script>
<!--<![endif]-->
<script>window.jQuery || document.write('<script src="_themes/global/js/jquery/jquery-1.12.4.min.js"><\/script>')</script>


  <script src="_themes/global/js/global.min.js?v=32"></script>
  <script src="_themes/global/js/azureHeader/loader.js?v=4"></script>

  </head>
  <body>

<div class="az_h default" ms.pgarea="header">
	<div class="azure-header_holder">	
		<div class="azure-header">	
			<header class="azure-header_temp">
				<div class="row column">
					<a href="https://azure.microsoft.com/en-us/" class="logo" title="Microsoft Azure">
						<svg x="0px" y="0px" width="165px" height="20px" viewbox="0 0 165 20">
						<path fill="#29A5DE" d="M18,19H16V7.1C16,6.2,16,5,16.1,3.7h0c-0.2,0.8-0.4,1.4-0.5,1.7L9.5,19h-1l-6-13.5c-0.2-0.4-0.3-1-0.5-1.8
						h0C2,4.4,2,5.5,2,7.1V19H0V1.3h2.7l5.4,12.3c0.4,0.9,0.7,1.7,0.8,2.1H9c0.4-1,0.6-1.7,0.9-2.2l5.5-12.3H18V19z"></path>
						<path fill="#29A5DE" d="M22.8,3.1c-0.4,0-0.7-0.1-0.9-0.4s-0.4-0.6-0.4-0.9s0.1-0.7,0.4-0.9c0.3-0.3,0.6-0.4,0.9-0.4
						c0.4,0,0.7,0.1,0.9,0.4c0.3,0.3,0.4,0.6,0.4,0.9c0,0.4-0.1,0.7-0.4,0.9C23.5,3,23.2,3.1,22.8,3.1z M23.8,19h-2V6.3h2V19z"></path>
						<path fill="#29A5DE" d="M35.8,18.4c-1,0.6-2.1,0.9-3.5,0.9c-1.8,0-3.3-0.6-4.4-1.8c-1.1-1.2-1.7-2.7-1.7-4.6c0-2.1,0.6-3.7,1.8-5
						C29.4,6.7,30.9,6,32.9,6C34,6,35,6.2,35.9,6.7v2.1c-0.9-0.7-1.9-1-3-1c-1.3,0-2.3,0.5-3.2,1.4c-0.8,0.9-1.2,2.1-1.2,3.6
						c0,1.5,0.4,2.6,1.2,3.5c0.8,0.9,1.8,1.3,3.1,1.3c1.1,0,2.1-0.4,3.1-1.1V18.4z"></path>
						<path fill="#29A5DE" d="M44.9,8.4C44.5,8.1,44,8,43.3,8c-0.9,0-1.6,0.4-2.2,1.2c-0.6,0.8-0.9,1.9-0.9,3.3V19h-2V6.3h2v2.6h0
						c0.3-0.9,0.7-1.6,1.3-2.1c0.6-0.5,1.3-0.7,2-0.7c0.5,0,0.9,0.1,1.2,0.2V8.4z"></path>
						<path fill="#29A5DE" d="M51.4,19.3c-1.9,0-3.4-0.6-4.5-1.8c-1.1-1.2-1.7-2.7-1.7-4.7c0-2.1,0.6-3.8,1.7-5S49.7,6,51.7,6
						c1.9,0,3.4,0.6,4.4,1.7c1.1,1.2,1.6,2.8,1.6,4.8c0,2-0.6,3.6-1.7,4.8C54.8,18.6,53.3,19.3,51.4,19.3z M51.5,7.7
						c-1.3,0-2.3,0.4-3.1,1.3c-0.8,0.9-1.1,2.1-1.1,3.7c0,1.5,0.4,2.7,1.1,3.5c0.8,0.9,1.8,1.3,3.1,1.3c1.3,0,2.3-0.4,3-1.3
						c0.7-0.8,1.1-2,1.1-3.6c0-1.6-0.4-2.8-1.1-3.6C53.8,8.2,52.8,7.7,51.5,7.7z"></path>
						<path fill="#29A5DE" d="M59.5,18.5v-2.2c1.1,0.8,2.3,1.2,3.6,1.2c1.8,0,2.7-0.6,2.7-1.8c0-0.3-0.1-0.6-0.2-0.9
						c-0.2-0.2-0.4-0.4-0.6-0.6c-0.3-0.2-0.6-0.3-0.9-0.5c-0.3-0.1-0.7-0.3-1.1-0.4c-0.6-0.2-1-0.4-1.5-0.7c-0.4-0.2-0.8-0.5-1.1-0.8
						c-0.3-0.3-0.5-0.6-0.6-1c-0.1-0.4-0.2-0.8-0.2-1.3c0-0.6,0.1-1.1,0.4-1.6C60.2,7.7,60.5,7.3,61,7c0.5-0.3,1-0.5,1.5-0.7
						C63.1,6.1,63.7,6,64.3,6c1.1,0,2.1,0.2,2.9,0.6v2c-0.9-0.6-2-0.9-3.2-0.9c-0.4,0-0.7,0-1,0.1c-0.3,0.1-0.6,0.2-0.8,0.4
						c-0.2,0.2-0.4,0.3-0.5,0.6c-0.1,0.2-0.2,0.5-0.2,0.7c0,0.3,0.1,0.6,0.2,0.8c0.1,0.2,0.3,0.4,0.5,0.6c0.2,0.2,0.5,0.3,0.8,0.5
						c0.3,0.1,0.7,0.3,1.1,0.5c0.6,0.2,1.1,0.4,1.5,0.7c0.4,0.2,0.8,0.5,1.1,0.8c0.3,0.3,0.6,0.6,0.7,1c0.2,0.4,0.3,0.8,0.3,1.3
						c0,0.6-0.1,1.2-0.4,1.6c-0.3,0.5-0.6,0.8-1.1,1.1c-0.5,0.3-1,0.5-1.6,0.7c-0.6,0.1-1.2,0.2-1.9,0.2C61.6,19.3,60.4,19,59.5,18.5z"></path>
						<path fill="#29A5DE" d="M75.6,19.3c-1.9,0-3.4-0.6-4.5-1.8c-1.1-1.2-1.7-2.7-1.7-4.7c0-2.1,0.6-3.8,1.7-5C72.4,6.6,73.9,6,75.9,6
						c1.9,0,3.4,0.6,4.4,1.7c1.1,1.2,1.6,2.8,1.6,4.8c0,2-0.6,3.6-1.7,4.8C79,18.6,77.5,19.3,75.6,19.3z M75.7,7.7
						c-1.3,0-2.3,0.4-3.1,1.3c-0.8,0.9-1.1,2.1-1.1,3.7c0,1.5,0.4,2.7,1.1,3.5c0.8,0.9,1.8,1.3,3.1,1.3c1.3,0,2.3-0.4,3-1.3
						c0.7-0.8,1.1-2,1.1-3.6c0-1.6-0.4-2.8-1.1-3.6C78.1,8.2,77,7.7,75.7,7.7z"></path>
						<path fill="#29A5DE" d="M97.6,8.1V6.3h-3.2V2.6l-2,0.7v3.1h-2.6h-1.5h-1.4V4.4c0-1.8,0.7-2.7,2.1-2.7c0.5,0,0.9,0.1,1.3,0.3V0.2
						C89.9,0.1,89.4,0,88.8,0c-1.1,0-2.1,0.4-2.9,1.2c-0.8,0.8-1.1,1.8-1.1,3.1v2h-2.2v1.7h2.2V19h2V8.1h1.4h1.5h2.6v7.5
						c0,2.5,1.1,3.7,3.3,3.7c0.8,0,1.4-0.1,1.9-0.4v-1.7c-0.4,0.3-0.8,0.4-1.3,0.4c-0.7,0-1.1-0.2-1.4-0.5c-0.3-0.4-0.4-1-0.4-1.8V8.1
						H97.6z"></path>
						<path fill="#29A5DE" d="M119.9,19h-2.3l-1.9-5h-7.5l-1.8,5h-2.3L111,1.3h2.1L119.9,19z M115.1,12.1l-2.8-7.5
						c-0.1-0.2-0.2-0.6-0.3-1.2h0c-0.1,0.5-0.2,0.9-0.3,1.2l-2.7,7.5H115.1z"></path>
						<path fill="#29A5DE" d="M130.4,6.9l-7.5,10.3h7.4V19H120v-0.6l7.5-10.3h-6.8V6.3h9.7V6.9z"></path>
						<path fill="#29A5DE" d="M142.6,19h-2v-2h0c-0.8,1.5-2.1,2.3-3.9,2.3c-3,0-4.5-1.8-4.5-5.4V6.3h2v7.2c0,2.7,1,4,3.1,4
						c1,0,1.8-0.4,2.4-1.1c0.6-0.7,1-1.7,1-2.9V6.3h2V19z"></path>
						<path fill="#29A5DE" d="M152.6,8.4c-0.4-0.3-0.9-0.4-1.5-0.4c-0.9,0-1.6,0.4-2.2,1.2c-0.6,0.8-0.9,1.9-0.9,3.3V19h-2V6.3h2v2.6h0
						c0.3-0.9,0.7-1.6,1.3-2.1c0.6-0.5,1.3-0.7,2-0.7c0.5,0,0.9,0.1,1.2,0.2V8.4z"></path>
						<path fill="#29A5DE" d="M164,13.1h-8.9c0,1.4,0.4,2.5,1.1,3.3c0.7,0.8,1.7,1.1,3,1.1c1.4,0,2.7-0.5,3.9-1.4V18
						c-1.1,0.8-2.6,1.2-4.4,1.2c-1.8,0-3.2-0.6-4.2-1.7c-1-1.1-1.5-2.8-1.5-4.8c0-2,0.6-3.6,1.7-4.8c1.1-1.2,2.5-1.9,4.1-1.9
						s2.9,0.5,3.8,1.6s1.4,2.6,1.4,4.4V13.1z M161.9,11.4c0-1.2-0.3-2.1-0.8-2.7c-0.6-0.6-1.3-1-2.3-1c-1,0-1.8,0.3-2.4,1
						c-0.7,0.7-1.1,1.6-1.2,2.7H161.9z"></path>
						</svg>
					</a>
					<a href="#" class="small-search" onclick="return false"><span class="icon icon-search"></span></a>
				</div>
			</header>
		</div>
	</div>
    <div id="lca-cookie-notification" class="shell-notification" style="display:none;">
        <div class="shell-notification-grid-row shell-notification-clearfix">
            <span id="cookie.consent.europe" class="notification-txt"></span>
            <span class="notification-action">
            <a id="privacystatement-link" tabindex="1" href="#"></a>
            <a id="cookie-notification-close" tabindex="2">
                <i class="shell-icon-close"></i>
            </a>
            </span>
        </div>
    </div>

    
    <div id="msdn-redirection-notification" class="shell-notification" style="display:none;" ms.cmpgrp="notifications">
        <div class="shell-notification-grid-row shell-notification-clearfix">
            <span id="msdn.redirection.text" class="notification-txt">You were redirected to this page from MSDN.  We are in the process of migrating all technical content to docs.microsoft.com.</span>
            <span class="notification-action">
            <a id="redirect-notification-close" tabindex="1">
                <i class="shell-icon-close"></i>
            </a>
            </span>
        </div>        
    </div>

    <div id="sub-header" class="container" ms.cmpgrp="breadcrumb" role="navigation" aria-label="breadcrumb">    
        <div id="sub-header-content">
            <div class="content">
                <ul class="breadcrumbs"></ul>
            </div>
        </div>
    </div>


    <div class="pageActionsHolder">
        <div id="page-actions" role="complementary">
            <div id="page-actions-content">
                <ul class="action-list" ms.cmpgrp="pageactions">
                    
                    
                        
                            <li id="contenteditbtn" hidden="">
                                <a href="https://github.com/Azure/elastic-db-tools/new/master/apiSpec/new?filename=Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager.md&value=---%0Auid%3A%20Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery.RecoveryManager%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" title="Edit This Document" ms.cmpnm="edit">
                                    <i class="icon icon-editor"></i>Edit
                                </a>
                            </li>             
                        
                    
					
						
							<li>
								<a href="https://github.com/Azure/elastic-db-tools/blob/master/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L23" ms.cmpnm="viewsource"><i class="icon icon-code"></i>View Code</a>
							</li>
						
					
                    <li>
                        <a href="#" class="sharebutton" title="Share This Document" ms.cmpnm="share"><i class="icon icon-share"></i>Share</a>
                        <div class="share-container">
                            
                                <div><a href="" class="share-twitter" ms.cmpnm="twitter"><i class="icon icon-twitter"></i>Twitter</a></div>
                                <div><a href="" class="share-facebook" ms.cmpnm="facebook"><i class="icon icon-facebook"></i>Facebook</a></div>
                            
                            
                            
                        </div>
                    </li>
                    <li class="typeSep">|</li>
                    
                    
                        <li>
                            <label for="lang-selector">Language</label>
                            <select name="lang-selector" id="lang-selector">
                                
                                <option value="lang-csharp">C#
                                
                                <option value="lang-vb">VB
                                
                            </select>
                        </li>
                    
                    <li>
                        <label for="theme-selector">Theme</label>
                        <select id="theme-selector">
                            <option value="" class="removedOnload">
                            <option value="">Light
                            <option value="theme_night">Dark
                        </select>
                    </li>
                </ul>

                <nav id="side-doc-outline" class="doc-outline" ms.cmpgrp="intopic toc" role="navigation" aria-label="On page navigation">
                    <h3>In this article</h3>
                </nav>
            
            </div>
        </div>        
    </div>



</div>

    <main>
		  <div class="container" ms.pgarea="body">        

        <div id="sidebar" ms.cmpgrp="left toc" role="navigation" aria-label="main navigation">
          <div id="sidebarContent">
            <div class="filterHolder"></div>
            <nav class="toc"></nav>          
            <div class="pdfDownloadHolder"></div>
          </div>
          <div class="tocSpace"></div>
        </div>

        <div id="menu-nav" class="dropdown-container">
          <div class="dropdown dropdown-full mobilenavi">
            <select>
            </select>
          </div>
        </div>
		
        <div id="main" role="main" ms.pgarea="content">
          <div id="langDisclaimer" class="disclaimer" style="display:none;"><span class="icon icon-disclaimer"></span><span class="disclaimertext">This content is not available in your language but here is the English version.</span></div>
                    
              
    <h1 id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager">
      <span class="lang-csharp">RecoveryManager</span>
      <span class="lang-vb">RecoveryManager</span>
        Class
    </h1>
    
    
    <nav id="center-doc-outline" class="doc-outline" ms.cmpgrp="intopic toc" role="navigation" aria-label="On page navigation">
      <h3>In this Article</h3>
    </nav><div class="summary">
    		<div class="memberEditButton">
    			<a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L23" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
    		</div>
    	<p>Manages various recovery related tasks for a shard map manager. It helps 
resolving data corruption issues between shard map information stored
locally on the shards and in the global shard map manager database. 
It also helps with certain &#39;oops&#39; recovery scenarios where reconstruction
of shard maps from database backups or database copies is necessary.</p>

    </div><h2>Syntax</h2>
    
    	<h3>Declaration</h3>
    	<pre class="memberDeclaration"><code class="csharp lang-csharp">public sealed class RecoveryManager</code><code class="vb lang-vb">Public NotInheritable Class RecoveryManager</code></pre>
    
    
    
    <h3>Inheritance Hierarchy</h3>
    <ul class="inheritance">
        <li class="l0">
          <div class="lang-csharp">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>
          </div>
          <div class="lang-vb">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>
          </div>
        </li>
      <li class="l1">
        <div class="xref">
          <div class="lang-csharp">RecoveryManager</div>
          <div class="lang-vb">RecoveryManager</div>
        </div>
      </li>
    </ul>
    
      <div class="referencebox inheritedMembers">
        <h3>Inherited Members</h3>
        <h4>System.Object</h4>
          <div class="lang-csharp">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/7bxwbwt2(v=vs.110).aspx">ToString</a>()
          </div>
          <div class="lang-vb">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/7bxwbwt2(v=vs.110).aspx">ToString</a>()
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/bsc2ak47(v=vs.110).aspx">Equals</a>(<a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>)
          </div>
          <div class="lang-vb">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/bsc2ak47(v=vs.110).aspx">Equals</a>(<a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>)
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/w4hkze5k(v=vs.110).aspx">Equals</a>(<a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>, <a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>)
          </div>
          <div class="lang-vb">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/w4hkze5k(v=vs.110).aspx">Equals</a>(<a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>, <a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>)
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/hz2a0b8x(v=vs.110).aspx">ReferenceEquals</a>(<a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>, <a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>)
          </div>
          <div class="lang-vb">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/hz2a0b8x(v=vs.110).aspx">ReferenceEquals</a>(<a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>, <a class="xref" href="https://msdn.microsoft.com/en-us/library/system.object(v=vs.110).aspx">Object</a>)
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/zdee4b3y(v=vs.110).aspx">GetHashCode</a>()
          </div>
          <div class="lang-vb">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/zdee4b3y(v=vs.110).aspx">GetHashCode</a>()
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/dfwy45w9(v=vs.110).aspx">GetType</a>()
          </div>
          <div class="lang-vb">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/dfwy45w9(v=vs.110).aspx">GetType</a>()
          </div>
          , 
          <div class="lang-csharp">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/57ctke0a(v=vs.110).aspx">MemberwiseClone</a>()
          </div>
          <div class="lang-vb">
            <a class="xref" href="https://msdn.microsoft.com/en-us/library/57ctke0a(v=vs.110).aspx">MemberwiseClone</a>()
          </div>
          
      </div>
    
    
      <h2>Remarks</h2>
      <p>Note that some of the recovery methods can cause unrecoverable data loss when not used 
properly. It is recommend to take backups or copies of all databases that participate 
in recovery operations. </p>

    
    
    <h2>Methods
     summary</h2>
    
    <table class="nameValue">
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_AttachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_">AttachShard(ShardLocation)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_AttachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_">AttachShard(ShardLocation)</a></div>
          </td>
            <td>
            <p>Attaches a shard to the shard map manager. Earlier versions
of mappings for the same shard map will automatically be updated 
if more recent versions are found on the shard to be attached.
After attaching a shard, <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>
should be called to check for any inconsistencies that warrant
manual conflict resolution.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_AttachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">AttachShard(ShardLocation, String)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_AttachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">AttachShard(ShardLocation, String)</a></div>
          </td>
            <td>
            <p>Attaches a shard to the shard map manager. Earlier versions
of mappings for the same shard map will automatically be updated 
if more recent versions are found on the shard to be attached.
Shard location will be upgraded to latest version of local store as part of this operation.
After attaching a shard, <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>
should be called to check for any inconsistencies that warrant
manual conflict resolution.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_">DetachShard(ShardLocation)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_">DetachShard(ShardLocation)</a></div>
          </td>
            <td>
            <p>Detaches the given shard from the shard map manager. Mappings pointing to the 
shard to be deleted will automatically be removed by this method.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetachShard(ShardLocation, String)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetachShard(ShardLocation, String)</a></div>
          </td>
            <td>
            <p>Detaches the given shard from the shard map manager. Mappings pointing to the 
shard to be deleted will automatically be removed by this method.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_">DetectMappingDifferences(ShardLocation)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_">DetectMappingDifferences(ShardLocation)</a></div>
          </td>
            <td>
            <p>Enumerates differences in the mappings between the global shard map manager database and the local shard 
database in the specified shard location.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a></div>
          </td>
            <td>
            <p>Enumerates differences in the mappings between the global shard map manager database and the local shard 
database in the specified shard location.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">GetMappingDifferences(RecoveryToken)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">GetMappingDifferences(RecoveryToken)</a></div>
          </td>
            <td>
            <p>Returns a dictionary of range-to-location key-value pairs. The location returned is an enumerator stating 
whether a given range (or point) is present only in the local shard map, only in the global shard map, or both. 
Ranges not contained in either shard map cannot contain differences so those ranges are not shown.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardInfo_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardMapType__System_String__">GetShardInfo(RecoveryToken, out ShardMapType, out String)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardInfo_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardMapType__System_String__">GetShardInfo(RecoveryToken, ByRef ShardMapType, ByRef String)</a></div>
          </td>
            <td>
            <p>Retrieves shard map type and name based on the token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardInfo_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardMapType__System_String__Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__">GetShardInfo(RecoveryToken, out ShardMapType, out String, out ShardLocation)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardInfo_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardMapType__System_String__Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__">GetShardInfo(RecoveryToken, ByRef ShardMapType, ByRef String, ByRef ShardLocation)</a></div>
          </td>
            <td>
            <p>Retrieves shard map type, name and shard location based on the token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardLocation_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">GetShardLocation(RecoveryToken)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardLocation_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">GetShardLocation(RecoveryToken)</a></div>
          </td>
            <td>
            <p>Returns the shard location of the local shard map processed by <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardMapName_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">GetShardMapName(RecoveryToken)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardMapName_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">GetShardMapName(RecoveryToken)</a></div>
          </td>
            <td>
            <p>Returns the shard map name of the shard map processed by <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardMapType_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">GetShardMapType(RecoveryToken)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardMapType_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">GetShardMapType(RecoveryToken)</a></div>
          </td>
            <td>
            <p>Returns the shard map type of the shard map processed by <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardRange__">RebuildMappingsOnShard(RecoveryToken, IEnumerable&lt;ShardRange&gt;)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardRange__">RebuildMappingsOnShard(RecoveryToken, IEnumerable(Of ShardRange))</a></div>
          </td>
            <td>
            <p>Rebuilds a local range shard map from a list of inconsistent shard ranges
detected by <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a> and then accessed by <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">GetMappingDifferences(RecoveryToken)</a>.
The resulting local range shard map will always still be inconsistent with 
the global shard map in the shard map manager database. A subsequent call to <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_ResolveMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_MappingDifferenceResolution_">ResolveMappingDifferences(RecoveryToken, MappingDifferenceResolution)</a>
is necessary to bring the system back to a healthy state.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardMapManagerFromShards_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__">RebuildMappingsOnShardMapManagerFromShards(IEnumerable&lt;ShardLocation&gt;)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardMapManagerFromShards_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__">RebuildMappingsOnShardMapManagerFromShards(IEnumerable(Of ShardLocation))</a></div>
          </td>
            <td>
            <p>Given a collection of shard locations, reconstructs the shard map manager based on mapping information
stored in the individual shards. The specified
shards need to be registered already in the global shard map. This method only 
rebuilds mappings. It does not rebuild shard membership within the global shard map.
If the information in the individual shard maps is or becomes inconsistent, the behavior is undefined.
No cross shard locks are taken, so if any shards become inconsistent during the execution of this
method, the final state of the global shard map may be corrupt.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardMapManagerFromShards_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__System_String_">RebuildMappingsOnShardMapManagerFromShards(IEnumerable&lt;ShardLocation&gt;, String)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardMapManagerFromShards_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__System_String_">RebuildMappingsOnShardMapManagerFromShards(IEnumerable(Of ShardLocation), String)</a></div>
          </td>
            <td>
            <p>Given a collection of shard locations, reconstructs the shard map manager based on mapping information
stored in the individual shards. The specified
shards need to be registered already in the global shard map. This method only 
rebuilds mappings. It does not rebuild shard membership within the global shard map.
If the information in the individual shard maps is or becomes inconsistent, the behavior is undefined.
No cross shard locks are taken, so if any shards become inconsistent during the execution of this
method, the final state of the global shard map may be corrupt.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardsFromShardMapManager_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__">RebuildMappingsOnShardsFromShardMapManager(IEnumerable&lt;ShardLocation&gt;)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardsFromShardMapManager_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__">RebuildMappingsOnShardsFromShardMapManager(IEnumerable(Of ShardLocation))</a></div>
          </td>
            <td>
            <p>Given a collection of shard locations, reconstructs local shard maps based 
on the mapping information stored in the global shard map. The specified
shards need to be registered already in the global shard map. This method only 
rebuilds mappings. It does not rebuild shard membership within the global shard map.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardsFromShardMapManager_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__System_String_">RebuildMappingsOnShardsFromShardMapManager(IEnumerable&lt;ShardLocation&gt;, String)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardsFromShardMapManager_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__System_String_">RebuildMappingsOnShardsFromShardMapManager(IEnumerable(Of ShardLocation), String)</a></div>
          </td>
            <td>
            <p>Given a collection of shard locations, reconstructs local shard maps based 
on the mapping information stored in the global shard map. The specified
shards need to be registered already in the global shard map. This method only 
rebuilds mappings. It does not rebuild shard membership within the global shard map.</p>

            </td>
        </tr>
        <tr class=" enable-platform-filter">
          <td>
            <div class="lang-csharp"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_ResolveMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_MappingDifferenceResolution_">ResolveMappingDifferences(RecoveryToken, MappingDifferenceResolution)</a></div>
            <div class="lang-vb"><a href="#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_ResolveMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_MappingDifferenceResolution_">ResolveMappingDifferences(RecoveryToken, MappingDifferenceResolution)</a></div>
          </td>
            <td>
            <p>Selects one of the shard maps (either local or global) as a source of truth and brings 
mappings on both shard maps in sync.</p>

            </td>
        </tr>
    </table>
    <section class="memberGroup">
      <header class="header enable-platform-filter" id="methods">
        <h2>Methods
    </h2>
      </header>
    
      <ul class="list-clean enable-platform-filter">
    
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_AttachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_AttachShard_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L97" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">AttachShard(ShardLocation)</div>        
            <div class="lang-vb">AttachShard(ShardLocation)</div>        
          </div>
    
            <p>Attaches a shard to the shard map manager. Earlier versions
of mappings for the same shard map will automatically be updated 
if more recent versions are found on the shard to be attached.
After attaching a shard, <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>
should be called to check for any inconsistencies that warrant
manual conflict resolution.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void AttachShard(ShardLocation location)</code><code class="vb lang-vb">Public Sub AttachShard(location As ShardLocation)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>location</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                  </dd>
                  </dl>
                  <p>Location of the shard being attached.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Note that this method can cause unrecoverable data loss. Make sure you have taken backups or copies 
of your databases and only then proceed with great care.</p>

    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_AttachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_AttachShard_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L117" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">AttachShard(ShardLocation, String)</div>        
            <div class="lang-vb">AttachShard(ShardLocation, String)</div>        
          </div>
    
            <p>Attaches a shard to the shard map manager. Earlier versions
of mappings for the same shard map will automatically be updated 
if more recent versions are found on the shard to be attached.
Shard location will be upgraded to latest version of local store as part of this operation.
After attaching a shard, <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>
should be called to check for any inconsistencies that warrant
manual conflict resolution.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void AttachShard(ShardLocation location, string shardMapName)</code><code class="vb lang-vb">Public Sub AttachShard(location As ShardLocation, shardMapName As String)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>location</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                  </dd>
                  </dl>
                  <p>Location of the shard being attached.</p>

                </li>
                <li>
                  <dl>
                  <dt>shardMapName</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                  </dd>
                  </dl>
                  <p>Optional string to filter on the shard map name.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Note that this method can cause unrecoverable data loss. Make sure you have taken backups or copies 
of your databases and only then proceed with great care.</p>

    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetachShard_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L170" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">DetachShard(ShardLocation)</div>        
            <div class="lang-vb">DetachShard(ShardLocation)</div>        
          </div>
    
            <p>Detaches the given shard from the shard map manager. Mappings pointing to the 
shard to be deleted will automatically be removed by this method.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void DetachShard(ShardLocation location)</code><code class="vb lang-vb">Public Sub DetachShard(location As ShardLocation)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>location</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                  </dd>
                  </dl>
                  <p>Location of the shard being detached.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Note that this method can cause unrecoverable data loss. Make sure you have taken backups or copies 
of your databases and only then proceed with great care.</p>

    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetachShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetachShard_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L185" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">DetachShard(ShardLocation, String)</div>        
            <div class="lang-vb">DetachShard(ShardLocation, String)</div>        
          </div>
    
            <p>Detaches the given shard from the shard map manager. Mappings pointing to the 
shard to be deleted will automatically be removed by this method.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void DetachShard(ShardLocation location, string shardMapName)</code><code class="vb lang-vb">Public Sub DetachShard(location As ShardLocation, shardMapName As String)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>location</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                  </dd>
                  </dl>
                  <p>Location of the shard being detached.</p>

                </li>
                <li>
                  <dl>
                  <dt>shardMapName</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                  </dd>
                  </dl>
                  <p>Optional string to filter on shard map name.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Note that this method can cause unrecoverable data loss. Make sure you have taken backups or copies 
of your databases and only then proceed with great care.</p>

    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L550" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">DetectMappingDifferences(ShardLocation)</div>        
            <div class="lang-vb">DetectMappingDifferences(ShardLocation)</div>        
          </div>
    
            <p>Enumerates differences in the mappings between the global shard map manager database and the local shard 
database in the specified shard location.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public IEnumerable&lt;RecoveryToken&gt; DetectMappingDifferences(ShardLocation location)</code><code class="vb lang-vb">Public Function DetectMappingDifferences(location As ShardLocation) As IEnumerable(Of RecoveryToken)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>location</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                  </dd>
                  </dl>
                  <p>Location of shard for which to detect inconsistencies.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>&lt;<a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a>&gt;</div>
                      <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>(Of <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a>)</div>
                  </div>
                  <p>Collection of tokens to be used for further resolution tasks (see <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_ResolveMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_MappingDifferenceResolution_">ResolveMappingDifferences(RecoveryToken, MappingDifferenceResolution)</a>).</p>

                </li>
              </ul>
    
    
    
          
    
    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L562" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">DetectMappingDifferences(ShardLocation, String)</div>        
            <div class="lang-vb">DetectMappingDifferences(ShardLocation, String)</div>        
          </div>
    
            <p>Enumerates differences in the mappings between the global shard map manager database and the local shard 
database in the specified shard location.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public IEnumerable&lt;RecoveryToken&gt; DetectMappingDifferences(ShardLocation location, string shardMapName)</code><code class="vb lang-vb">Public Function DetectMappingDifferences(location As ShardLocation, shardMapName As String) As IEnumerable(Of RecoveryToken)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>location</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                  </dd>
                  </dl>
                  <p>Location of shard for which to detect inconsistencies.</p>

                </li>
                <li>
                  <dl>
                  <dt>shardMapName</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                  </dd>
                  </dl>
                  <p>Optional parameter to specify a particular shard map.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>&lt;<a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a>&gt;</div>
                      <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>(Of <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a>)</div>
                  </div>
                  <p>Collection of tokens to be used for further resolution tasks (see <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_ResolveMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_MappingDifferenceResolution_">ResolveMappingDifferences(RecoveryToken, MappingDifferenceResolution)</a>).</p>

                </li>
              </ul>
    
    
    
          
    
    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetMappingDifferences_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L213" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">GetMappingDifferences(RecoveryToken)</div>        
            <div class="lang-vb">GetMappingDifferences(RecoveryToken)</div>        
          </div>
    
            <p>Returns a dictionary of range-to-location key-value pairs. The location returned is an enumerator stating 
whether a given range (or point) is present only in the local shard map, only in the global shard map, or both. 
Ranges not contained in either shard map cannot contain differences so those ranges are not shown.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public IDictionary&lt;ShardRange, MappingLocation&gt; GetMappingDifferences(RecoveryToken token)</code><code class="vb lang-vb">Public Function GetMappingDifferences(token As RecoveryToken) As IDictionary(Of ShardRange, MappingLocation)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>token</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                  </dd>
                  </dl>
                  <p>Recovery token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/s4ys34ea(v=vs.110).aspx">IDictionary</a>&lt;<a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardrange">ShardRange</a>, <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.mappinglocation">MappingLocation</a>&gt;</div>
                      <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/s4ys34ea(v=vs.110).aspx">IDictionary</a>(Of <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardrange">ShardRange</a>, <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.mappinglocation">MappingLocation</a>)</div>
                  </div>
                  <p>The set of ranges and their corresponding <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.mappinglocation">MappingLocation</a>.</p>

                </li>
              </ul>
    
    
    
          
    
            <h4>Remarks</h4>
            <p>This method assumes a previous call to <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a> that provides the recovery token parameter.
The result of this method is typically used in subsequent calls to resolve inconsistencies such as 
<a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_ResolveMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_MappingDifferenceResolution_">ResolveMappingDifferences(RecoveryToken, MappingDifferenceResolution)</a> or <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardRange__">RebuildMappingsOnShard(RecoveryToken, IEnumerable&lt;ShardRange&gt;)</a>. </p>

    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardInfo_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardMapType__System_String__">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardInfo_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L273" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">GetShardInfo(RecoveryToken, out ShardMapType, out String)</div>        
            <div class="lang-vb">GetShardInfo(RecoveryToken, ByRef ShardMapType, ByRef String)</div>        
          </div>
    
            <p>Retrieves shard map type and name based on the token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void GetShardInfo(RecoveryToken token, out ShardMapType mapType, out string shardMapName)</code><code class="vb lang-vb">Public Sub GetShardInfo(token As RecoveryToken, ByRef mapType As ShardMapType, ByRef shardMapName As String)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>token</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                  </dd>
                  </dl>
                  <p>Recovery token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

                </li>
                <li>
                  <dl>
                  <dt>mapType</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmaptype">ShardMapType</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmaptype">ShardMapType</a></div>
                  </dd>
                  </dl>
                  <p>Output Shardmap type (Range or List).</p>

                </li>
                <li>
                  <dl>
                  <dt>shardMapName</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                  </dd>
                  </dl>
                  <p>Output name of shard map.</p>

                </li>
              </ul>
    
    
    
    
          
    
    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardInfo_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardMapType__System_String__Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardInfo_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L236" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">GetShardInfo(RecoveryToken, out ShardMapType, out String, out ShardLocation)</div>        
            <div class="lang-vb">GetShardInfo(RecoveryToken, ByRef ShardMapType, ByRef String, ByRef ShardLocation)</div>        
          </div>
    
            <p>Retrieves shard map type, name and shard location based on the token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void GetShardInfo(RecoveryToken token, out ShardMapType mapType, out string shardMapName, out ShardLocation shardLocation)</code><code class="vb lang-vb">Public Sub GetShardInfo(token As RecoveryToken, ByRef mapType As ShardMapType, ByRef shardMapName As String, ByRef shardLocation As ShardLocation)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>token</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                  </dd>
                  </dl>
                  <p>Recovery token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

                </li>
                <li>
                  <dl>
                  <dt>mapType</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmaptype">ShardMapType</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmaptype">ShardMapType</a></div>
                  </dd>
                  </dl>
                  <p>Outputs shard map type (Range or List).</p>

                </li>
                <li>
                  <dl>
                  <dt>shardMapName</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                  </dd>
                  </dl>
                  <p>Outputs shard map name.</p>

                </li>
                <li>
                  <dl>
                  <dt>shardLocation</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                  </dd>
                  </dl>
                  <p>Outputs shard location</p>

                </li>
              </ul>
    
    
    
    
          
    
    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardLocation_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardLocation_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L345" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">GetShardLocation(RecoveryToken)</div>        
            <div class="lang-vb">GetShardLocation(RecoveryToken)</div>        
          </div>
    
            <p>Returns the shard location of the local shard map processed by <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public ShardLocation GetShardLocation(RecoveryToken token)</code><code class="vb lang-vb">Public Function GetShardLocation(token As RecoveryToken) As ShardLocation</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>token</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                  </dd>
                  </dl>
                  <p>Recovery token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a></p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                      <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a></div>
                  </div>
                  <p>Location of the shard corresponding to the set of mapping differences detected in <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

                </li>
              </ul>
    
    
    
          
    
    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardMapName_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardMapName_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L322" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">GetShardMapName(RecoveryToken)</div>        
            <div class="lang-vb">GetShardMapName(RecoveryToken)</div>        
          </div>
    
            <p>Returns the shard map name of the shard map processed by <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public string GetShardMapName(RecoveryToken token)</code><code class="vb lang-vb">Public Function GetShardMapName(token As RecoveryToken) As String</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>token</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                  </dd>
                  </dl>
                  <p>Recovery token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                      <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                  </div>
                  <p>The name of the shard map for the given recovery token.</p>

                </li>
              </ul>
    
    
    
          
    
    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardMapType_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetShardMapType_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L299" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">GetShardMapType(RecoveryToken)</div>        
            <div class="lang-vb">GetShardMapType(RecoveryToken)</div>        
          </div>
    
            <p>Returns the shard map type of the shard map processed by <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public ShardMapType GetShardMapType(RecoveryToken token)</code><code class="vb lang-vb">Public Function GetShardMapType(token As RecoveryToken) As ShardMapType</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>token</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                  </dd>
                  </dl>
                  <p>Recovery token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

                </li>
              </ul>
    
              <h4>Returns</h4>
              <ul class="memberDetails">
                <li>
                  <div class="single">                
                      <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmaptype">ShardMapType</a></div>
                      <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardmaptype">ShardMapType</a></div>
                  </div>
                  <p>The type of shard map (list, range, etc...) corresponding to the recovery token.</p>

                </li>
              </ul>
    
    
    
          
    
    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShard_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardRange__">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShard_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L471" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">RebuildMappingsOnShard(RecoveryToken, IEnumerable&lt;ShardRange&gt;)</div>        
            <div class="lang-vb">RebuildMappingsOnShard(RecoveryToken, IEnumerable(Of ShardRange))</div>        
          </div>
    
            <p>Rebuilds a local range shard map from a list of inconsistent shard ranges
detected by <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a> and then accessed by <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_GetMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_">GetMappingDifferences(RecoveryToken)</a>.
The resulting local range shard map will always still be inconsistent with 
the global shard map in the shard map manager database. A subsequent call to <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_ResolveMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_MappingDifferenceResolution_">ResolveMappingDifferences(RecoveryToken, MappingDifferenceResolution)</a>
is necessary to bring the system back to a healthy state.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void RebuildMappingsOnShard(RecoveryToken token, IEnumerable&lt;ShardRange&gt; ranges)</code><code class="vb lang-vb">Public Sub RebuildMappingsOnShard(token As RecoveryToken, ranges As IEnumerable(Of ShardRange))</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>token</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                  </dd>
                  </dl>
                  <p>The recovery token from a previous call to <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

                </li>
                <li>
                  <dl>
                  <dt>ranges</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>&lt;<a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardrange">ShardRange</a>&gt;</div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>(Of <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardrange">ShardRange</a>)</div>
                  </dd>
                  </dl>
                  <p>The set of ranges to keep on the local shard when rebuilding the local shard map.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Note that this method can cause unrecoverable data loss. Make sure you have taken backups or copies 
of your databases and only then proceed with great care.</p>
<p>Only shard ranges with inconsistencies can be rebuilt using this method. All ranges with no inconsistencies between
the local shard and the global shard map will be kept intact on the local shard and are not affected by this call.
Subsequent changes to the non-conflicting mappings can be made later using the regular interfaces in the shard map manager. 
It is not necessary to use the recovery manager to change non-conflicting mappings.</p>

    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardMapManagerFromShards_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardMapManagerFromShards_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L420" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">RebuildMappingsOnShardMapManagerFromShards(IEnumerable&lt;ShardLocation&gt;)</div>        
            <div class="lang-vb">RebuildMappingsOnShardMapManagerFromShards(IEnumerable(Of ShardLocation))</div>        
          </div>
    
            <p>Given a collection of shard locations, reconstructs the shard map manager based on mapping information
stored in the individual shards. The specified
shards need to be registered already in the global shard map. This method only 
rebuilds mappings. It does not rebuild shard membership within the global shard map.
If the information in the individual shard maps is or becomes inconsistent, the behavior is undefined.
No cross shard locks are taken, so if any shards become inconsistent during the execution of this
method, the final state of the global shard map may be corrupt.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void RebuildMappingsOnShardMapManagerFromShards(IEnumerable&lt;ShardLocation&gt; shardLocations)</code><code class="vb lang-vb">Public Sub RebuildMappingsOnShardMapManagerFromShards(shardLocations As IEnumerable(Of ShardLocation))</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>shardLocations</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>&lt;<a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a>&gt;</div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>(Of <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a>)</div>
                  </dd>
                  </dl>
                  <p>Collection of shard locations.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Note that this method can cause unrecoverable data loss. Make sure you have taken backups or copies 
of your databases and only then proceed with great care.</p>

    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardMapManagerFromShards_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__System_String_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardMapManagerFromShards_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L441" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">RebuildMappingsOnShardMapManagerFromShards(IEnumerable&lt;ShardLocation&gt;, String)</div>        
            <div class="lang-vb">RebuildMappingsOnShardMapManagerFromShards(IEnumerable(Of ShardLocation), String)</div>        
          </div>
    
            <p>Given a collection of shard locations, reconstructs the shard map manager based on mapping information
stored in the individual shards. The specified
shards need to be registered already in the global shard map. This method only 
rebuilds mappings. It does not rebuild shard membership within the global shard map.
If the information in the individual shard maps is or becomes inconsistent, the behavior is undefined.
No cross shard locks are taken, so if any shards become inconsistent during the execution of this
method, the final state of the global shard map may be corrupt.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void RebuildMappingsOnShardMapManagerFromShards(IEnumerable&lt;ShardLocation&gt; shardLocations, string shardMapName)</code><code class="vb lang-vb">Public Sub RebuildMappingsOnShardMapManagerFromShards(shardLocations As IEnumerable(Of ShardLocation), shardMapName As String)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>shardLocations</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>&lt;<a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a>&gt;</div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>(Of <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a>)</div>
                  </dd>
                  </dl>
                  <p>Collection of shard locations.</p>

                </li>
                <li>
                  <dl>
                  <dt>shardMapName</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                  </dd>
                  </dl>
                  <p>Optional name of shard map. If omitted, will attempt to recover from all shard maps present on each shard.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Note that this method can cause unrecoverable data loss. Make sure you have taken backups or copies 
of your databases and only then proceed with great care.</p>

    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardsFromShardMapManager_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardsFromShardMapManager_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L376" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">RebuildMappingsOnShardsFromShardMapManager(IEnumerable&lt;ShardLocation&gt;)</div>        
            <div class="lang-vb">RebuildMappingsOnShardsFromShardMapManager(IEnumerable(Of ShardLocation))</div>        
          </div>
    
            <p>Given a collection of shard locations, reconstructs local shard maps based 
on the mapping information stored in the global shard map. The specified
shards need to be registered already in the global shard map. This method only 
rebuilds mappings. It does not rebuild shard membership within the global shard map.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void RebuildMappingsOnShardsFromShardMapManager(IEnumerable&lt;ShardLocation&gt; shardLocations)</code><code class="vb lang-vb">Public Sub RebuildMappingsOnShardsFromShardMapManager(shardLocations As IEnumerable(Of ShardLocation))</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>shardLocations</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>&lt;<a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a>&gt;</div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>(Of <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a>)</div>
                  </dd>
                  </dl>
                  <p>Collection of shard locations.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Note that this method can cause unrecoverable data loss. Make sure you have taken backups or copies 
of your databases and only then proceed with great care.</p>

    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardsFromShardMapManager_System_Collections_Generic_IEnumerable_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation__System_String_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_RebuildMappingsOnShardsFromShardMapManager_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L394" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">RebuildMappingsOnShardsFromShardMapManager(IEnumerable&lt;ShardLocation&gt;, String)</div>        
            <div class="lang-vb">RebuildMappingsOnShardsFromShardMapManager(IEnumerable(Of ShardLocation), String)</div>        
          </div>
    
            <p>Given a collection of shard locations, reconstructs local shard maps based 
on the mapping information stored in the global shard map. The specified
shards need to be registered already in the global shard map. This method only 
rebuilds mappings. It does not rebuild shard membership within the global shard map.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void RebuildMappingsOnShardsFromShardMapManager(IEnumerable&lt;ShardLocation&gt; shardLocations, string shardMapName)</code><code class="vb lang-vb">Public Sub RebuildMappingsOnShardsFromShardMapManager(shardLocations As IEnumerable(Of ShardLocation), shardMapName As String)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>shardLocations</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>&lt;<a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a>&gt;</div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx">IEnumerable</a>(Of <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.shardlocation">ShardLocation</a>)</div>
                  </dd>
                  </dl>
                  <p>Collection of shard locations.</p>

                </li>
                <li>
                  <dl>
                  <dt>shardMapName</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                    <div class="lang-vb"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></div>
                  </dd>
                  </dl>
                  <p>Optional parameter to filter by shard map name. If omitted, all shard maps will be rebuilt.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Note that this method can cause unrecoverable data loss. Make sure you have taken backups or copies 
of your databases and only then proceed with great care.</p>

    
    
    
        </li>
        <li class=" enable-platform-filter" id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_ResolveMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryToken_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_MappingDifferenceResolution_">
    
            <a id="Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_ResolveMappingDifferences_"></a>
    
            <div class="memberEditButton">
              <a href="https://github.com/Azure/elastic-db-toolsmaster/Src/ElasticScale.Client/ShardManagement/Recovery/RecoveryManager.cs/#L839" ms.cmpnm="editMember"><i class="icon icon-editor"></i>Edit</a>
            </div>
    
          <div class="memberName">
            <div class="lang-csharp">ResolveMappingDifferences(RecoveryToken, MappingDifferenceResolution)</div>        
            <div class="lang-vb">ResolveMappingDifferences(RecoveryToken, MappingDifferenceResolution)</div>        
          </div>
    
            <p>Selects one of the shard maps (either local or global) as a source of truth and brings 
mappings on both shard maps in sync.</p>

    
            <pre class="memberDeclaration"><code class="csharp lang-csharp">public void ResolveMappingDifferences(RecoveryToken token, MappingDifferenceResolution resolution)</code><code class="vb lang-vb">Public Sub ResolveMappingDifferences(token As RecoveryToken, resolution As MappingDifferenceResolution)</code></pre>
    
    
              <h4>Parameters</h4>
              <ul class="memberDetails">
                <li>
                  <dl>
                  <dt>token</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverytoken">RecoveryToken</a></div>
                  </dd>
                  </dl>
                  <p>Recovery token returned from <a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.recoverymanager#Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_Recovery_RecoveryManager_DetectMappingDifferences_Microsoft_Azure_SqlDatabase_ElasticScale_ShardManagement_ShardLocation_System_String_">DetectMappingDifferences(ShardLocation, String)</a>.</p>

                </li>
                <li>
                  <dl>
                  <dt>resolution</dt>
                  <dd>
                    <div class="lang-csharp"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.mappingdifferenceresolution">MappingDifferenceResolution</a></div>
                    <div class="lang-vb"><a class="xref" href="microsoft.azure.sqldatabase.elasticscale.shardmanagement.recovery.mappingdifferenceresolution">MappingDifferenceResolution</a></div>
                  </dd>
                  </dl>
                  <p>The resolution strategy to be used for resolution.</p>

                </li>
              </ul>
    
    
    
    
          
    
            <h4>Remarks</h4>
            <p>Note that this method can cause unrecoverable data loss. Make sure you have taken backups or copies 
of your databases and only then proceed with great care.</p>

    
    
    
        </li>
      </ul>
    </section>
    
    
    
    
    
    
    
    
      <h2>Details</h2>
        <div class="lang-csharp lang-vb enable-lang-filter detailTile">
          <h4>Namespace</h4>    
          <div>Microsoft.Azure.SqlDatabase.ElasticScale.ShardManagement.Recovery</div>
        </div>
        <div class="lang-csharp lang-vb enable-lang-filter detailTile">
          <h4>Assembly</h4>    
          <div>Microsoft.Azure.SqlDatabase.ElasticScale.Client.dll</div>
        </div>
    
    

          
        </div>

		  </div>

      <div id="openFeedbackContainer" class="openfeedback-container footer-layout"></div>
      
    </main>

    <div id="footerPlaceholder"></div>

    
		<script src="_themes/javascript/1b0378afbf1c5a46614d.reference.js"></script>
  </body>
</html>
